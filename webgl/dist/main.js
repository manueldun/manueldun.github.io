!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(module,exports,__webpack_require__){(function(global){/*! glm-js built 2017-04-02 11:34:38-04:00 | (c) humbletim | http://humbletim.github.io/glm-js */
!function declare_glmjs_glmatrix(globals,$GLM_log,$GLM_console_log){var GLM,GLMAT,GLMAT_VERSION,GLMJS_PREFIX,$GLM_console_factory,glm;ArrayBuffer.exists,GLMAT={},GLMAT_VERSION="2.2.2",function(e){if(e.VERSION=GLMAT_VERSION,!t)var t=1e-6;if(!n)var n="undefined"!=typeof Float32Array?Float32Array:Array;if(!r)var r=Math.random;var o={setMatrixArrayType:function(e){n=e}};void 0!==e&&(e.glMatrix=o);var i=Math.PI/180;o.toRadian=function(e){return e*i},(o={create:function(){var e=new n(2);return e[0]=0,e[1]=0,e},clone:function(e){var t=new n(2);return t[0]=e[0],t[1]=e[1],t},fromValues:function(e,t){var r=new n(2);return r[0]=e,r[1]=t,r},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}}).sub=o.subtract,o.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},o.mul=o.multiply,o.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},o.div=o.divide,o.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},o.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},o.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},o.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},o.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},o.dist=o.distance,o.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0];return e=e[1],Math.sqrt(t*t+e*e)},o.len=o.length,o.squaredLength=function(e){var t=e[0];return t*t+(e=e[1])*e},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},o.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},o.normalize=function(e,t){var n=t[0],r=t[1];return 0<(n=n*n+r*r)&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},o.cross=function(e,t,n){return t=t[0]*n[1]-t[1]*n[0],e[0]=e[1]=0,e[2]=t,e},o.lerp=function(e,t,n,r){var o=t[0];return t=t[1],e[0]=o+r*(n[0]-o),e[1]=t+r*(n[1]-t),e},o.random=function(e,t){t=t||1;var n=2*r()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},o.transformMat2=function(e,t,n){var r=t[0];return t=t[1],e[0]=n[0]*r+n[2]*t,e[1]=n[1]*r+n[3]*t,e},o.transformMat2d=function(e,t,n){var r=t[0];return t=t[1],e[0]=n[0]*r+n[2]*t+n[4],e[1]=n[1]*r+n[3]*t+n[5],e},o.transformMat3=function(e,t,n){var r=t[0];return t=t[1],e[0]=n[0]*r+n[3]*t+n[6],e[1]=n[1]*r+n[4]*t+n[7],e},o.transformMat4=function(e,t,n){var r=t[0];return t=t[1],e[0]=n[0]*r+n[4]*t+n[12],e[1]=n[1]*r+n[5]*t+n[13],e};var a=o.create();o.forEach=function(e,t,n,r,o,i){for(t||(t=2),n||(n=0),r=r?Math.min(r*t+n,e.length):e.length;n<r;n+=t)a[0]=e[n],a[1]=e[n+1],o(a,a,i),e[n]=a[0],e[n+1]=a[1];return e},o.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},void 0!==e&&(e.vec2=o);var c={create:function(){var e=new n(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var t=new n(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},fromValues:function(e,t,r){var o=new n(3);return o[0]=e,o[1]=t,o[2]=r,o},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},set:function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}};c.sub=c.subtract,c.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},c.mul=c.multiply,c.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},c.div=c.divide,c.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},c.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},c.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},c.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},c.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)},c.dist=c.distance,c.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o},c.sqrDist=c.squaredDistance,c.length=function(e){var t=e[0],n=e[1];return e=e[2],Math.sqrt(t*t+n*n+e*e)},c.len=c.length,c.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n+(e=e[2])*e},c.sqrLen=c.squaredLength,c.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},c.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},c.normalize=function(e,t){var n=t[0],r=t[1],o=t[2];return 0<(n=n*n+r*r+o*o)&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e},c.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},c.cross=function(e,t,n){var r=t[0],o=t[1];t=t[2];var i=n[0],a=n[1];return n=n[2],e[0]=o*n-t*a,e[1]=t*i-r*n,e[2]=r*a-o*i,e},c.lerp=function(e,t,n,r){var o=t[0],i=t[1];return t=t[2],e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=t+r*(n[2]-t),e},c.random=function(e,t){t=t||1;var n=2*r()*Math.PI,o=2*r()-1,i=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=o*t,e},c.transformMat4=function(e,t,n){var r=t[0],o=t[1];t=t[2];var i=(i=n[3]*r+n[7]*o+n[11]*t+n[15])||1;return e[0]=(n[0]*r+n[4]*o+n[8]*t+n[12])/i,e[1]=(n[1]*r+n[5]*o+n[9]*t+n[13])/i,e[2]=(n[2]*r+n[6]*o+n[10]*t+n[14])/i,e},c.transformMat3=function(e,t,n){var r=t[0],o=t[1];return t=t[2],e[0]=r*n[0]+o*n[3]+t*n[6],e[1]=r*n[1]+o*n[4]+t*n[7],e[2]=r*n[2]+o*n[5]+t*n[8],e},c.transformQuat=function(e,t,n){var r=t[0],o=t[1],i=t[2];t=n[0];var a=n[1],c=n[2],u=(n=n[3])*r+a*i-c*o,s=n*o+c*r-t*i,l=n*i+t*o-a*r;r=-t*r-a*o-c*i;return e[0]=u*n+r*-t+s*-c-l*-a,e[1]=s*n+r*-a+l*-t-u*-c,e[2]=l*n+r*-c+u*-a-s*-t,e},c.rotateX=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},c.rotateY=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},c.rotateZ=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var u=c.create();c.forEach=function(e,t,n,r,o,i){for(t||(t=3),n||(n=0),r=r?Math.min(r*t+n,e.length):e.length;n<r;n+=t)u[0]=e[n],u[1]=e[n+1],u[2]=e[n+2],o(u,u,i),e[n]=u[0],e[n+1]=u[1],e[n+2]=u[2];return e},c.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},void 0!==e&&(e.vec3=c);var s={create:function(){var e=new n(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var t=new n(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},fromValues:function(e,t,r,o){var i=new n(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=o,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},set:function(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}};s.sub=s.subtract,s.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},s.mul=s.multiply,s.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},s.div=s.divide,s.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},s.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},s.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},s.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},s.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(n*n+r*r+o*o+i*i)},s.dist=s.distance,s.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+o*o+i*i},s.sqrDist=s.squaredDistance,s.length=function(e){var t=e[0],n=e[1],r=e[2];return e=e[3],Math.sqrt(t*t+n*n+r*r+e*e)},s.len=s.length,s.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r+(e=e[3])*e},s.sqrLen=s.squaredLength,s.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},s.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},s.normalize=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3];return 0<(n=n*n+r*r+o*o+i*i)&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n),e},s.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},s.lerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2];return t=t[3],e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e[3]=t+r*(n[3]-t),e},s.random=function(e,t){return t=t||1,e[0]=r(),e[1]=r(),e[2]=r(),e[3]=r(),s.normalize(e,e),s.scale(e,e,t),e},s.transformMat4=function(e,t,n){var r=t[0],o=t[1],i=t[2];return t=t[3],e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*t,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*t,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*t,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*t,e},s.transformQuat=function(e,t,n){var r=t[0],o=t[1],i=t[2];t=n[0];var a=n[1],c=n[2],u=(n=n[3])*r+a*i-c*o,s=n*o+c*r-t*i,l=n*i+t*o-a*r;r=-t*r-a*o-c*i;return e[0]=u*n+r*-t+s*-c-l*-a,e[1]=s*n+r*-a+l*-t-u*-c,e[2]=l*n+r*-c+u*-a-s*-t,e};var l=s.create();s.forEach=function(e,t,n,r,o,i){for(t||(t=4),n||(n=0),r=r?Math.min(r*t+n,e.length):e.length;n<r;n+=t)l[0]=e[n],l[1]=e[n+1],l[2]=e[n+2],l[3]=e[n+3],o(l,l,i),e[n]=l[0],e[n+1]=l[1],e[n+2]=l[2],e[n+3]=l[3];return e},s.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},void 0!==e&&(e.vec4=s),(o={create:function(){var e=new n(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var t=new n(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},invert:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*i-o*r;return a?(a=1/a,e[0]=i*a,e[1]=-r*a,e[2]=-o*a,e[3]=n*a,e):null},adjoint:function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,t,n){var r=t[0],o=t[1],i=t[2];t=t[3];var a=n[0],c=n[1],u=n[2];return n=n[3],e[0]=r*a+i*c,e[1]=o*a+t*c,e[2]=r*u+i*n,e[3]=o*u+t*n,e}}).mul=o.multiply,o.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2];t=t[3];var a=Math.sin(n);return n=Math.cos(n),e[0]=r*n+i*a,e[1]=o*n+t*a,e[2]=r*-a+i*n,e[3]=o*-a+t*n,e},o.scale=function(e,t,n){var r=t[1],o=t[2],i=t[3],a=n[0];return n=n[1],e[0]=t[0]*a,e[1]=r*a,e[2]=o*n,e[3]=i*n,e},o.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},o.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},o.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},void 0!==e&&(e.mat2=o),(o={create:function(){var e=new n(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var t=new n(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=n*i-r*o;return u?(u=1/u,e[0]=i*u,e[1]=-r*u,e[2]=-o*u,e[3]=n*u,e[4]=(o*c-i*a)*u,e[5]=(r*a-n*c)*u,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4];t=t[5];var u=n[0],s=n[1],l=n[2],f=n[3],m=n[4];return n=n[5],e[0]=r*u+i*s,e[1]=o*u+a*s,e[2]=r*l+i*f,e[3]=o*l+a*f,e[4]=r*m+i*n+c,e[5]=o*m+a*n+t,e}}).mul=o.multiply,o.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4];t=t[5];var u=Math.sin(n);return n=Math.cos(n),e[0]=r*n+i*u,e[1]=o*n+a*u,e[2]=r*-u+i*n,e[3]=o*-u+a*n,e[4]=c,e[5]=t,e},o.scale=function(e,t,n){var r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=n[0];return n=n[1],e[0]=t[0]*u,e[1]=r*u,e[2]=o*n,e[3]=i*n,e[4]=a,e[5]=c,e},o.translate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4];t=t[5];var u=n[0];return n=n[1],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=r*u+i*n+c,e[5]=o*u+a*n+t,e},o.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},o.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},void 0!==e&&(e.mat2d=o),(o={create:function(){var e=new n(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},clone:function(e){var t=new n(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=t[6],s=t[7],l=t[8],f=l*a-c*s,m=-l*i+c*u,M=s*i-a*u,p=n*f+r*m+o*M;return p?(p=1/p,e[0]=f*p,e[1]=(-l*r+o*s)*p,e[2]=(c*r-o*a)*p,e[3]=m*p,e[4]=(l*n-o*u)*p,e[5]=(-c*n+o*i)*p,e[6]=M*p,e[7]=(-s*n+r*u)*p,e[8]=(a*n-r*i)*p,e):null},adjoint:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=t[6],s=t[7],l=t[8];return e[0]=a*l-c*s,e[1]=o*s-r*l,e[2]=r*c-o*a,e[3]=c*u-i*l,e[4]=n*l-o*u,e[5]=o*i-n*c,e[6]=i*s-a*u,e[7]=r*u-n*s,e[8]=n*a-r*i,e},determinant:function(e){var t=e[3],n=e[4],r=e[5],o=e[6],i=e[7],a=e[8];return e[0]*(a*n-r*i)+e[1]*(-a*t+r*o)+e[2]*(i*t-n*o)},multiply:function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],u=t[5],s=t[6],l=t[7];t=t[8];var f=n[0],m=n[1],M=n[2],p=n[3],h=n[4],L=n[5],v=n[6],G=n[7];return n=n[8],e[0]=f*r+m*a+M*s,e[1]=f*o+m*c+M*l,e[2]=f*i+m*u+M*t,e[3]=p*r+h*a+L*s,e[4]=p*o+h*c+L*l,e[5]=p*i+h*u+L*t,e[6]=v*r+G*a+n*s,e[7]=v*o+G*c+n*l,e[8]=v*i+G*u+n*t,e}}).mul=o.multiply,o.translate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],u=t[5],s=t[6],l=t[7];t=t[8];var f=n[0];return n=n[1],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=c,e[5]=u,e[6]=f*r+n*a+s,e[7]=f*o+n*c+l,e[8]=f*i+n*u+t,e},o.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],u=t[5],s=t[6],l=t[7];t=t[8];var f=Math.sin(n);return n=Math.cos(n),e[0]=n*r+f*a,e[1]=n*o+f*c,e[2]=n*i+f*u,e[3]=n*a-f*r,e[4]=n*c-f*o,e[5]=n*u-f*i,e[6]=s,e[7]=l,e[8]=t,e},o.scale=function(e,t,n){var r=n[0];return n=n[1],e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},o.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},o.fromQuat=function(e,t){var n=t[0],r=t[1],o=(u=t[2])+u,i=(n=n*(s=n+n),r*s),a=(r=r*(l=r+r),u*s),c=u*l,u=u*o,s=(f=t[3])*s,l=f*l,f=f*o;return e[0]=1-r-u,e[3]=i-f,e[6]=a+l,e[1]=i+f,e[4]=1-n-u,e[7]=c-s,e[2]=a-l,e[5]=c+s,e[8]=1-n-r,e},o.normalFromMat4=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=t[6],s=t[7],l=t[8],f=t[9],m=t[10],M=t[11],p=t[12],h=t[13],L=t[14],v=t[15],G=n*c-r*a,$=n*u-o*a,y=n*s-i*a,g=r*u-o*c,d=r*s-i*c,_=o*s-i*u,b=l*h-f*p,w=l*L-m*p,N=f*L-m*h;return(M=G*(m=m*v-M*L)-$*(f=f*v-M*h)+y*N+g*(l=l*v-M*p)-d*w+_*b)?(M=1/M,e[0]=(c*m-u*f+s*N)*M,e[1]=(u*l-a*m-s*w)*M,e[2]=(a*f-c*l+s*b)*M,e[3]=(o*f-r*m-i*N)*M,e[4]=(n*m-o*l+i*w)*M,e[5]=(r*l-n*f-i*b)*M,e[6]=(h*_-L*d+v*g)*M,e[7]=(L*y-p*_-v*$)*M,e[8]=(p*d-h*y+v*G)*M,e):null},o.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},o.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},void 0!==e&&(e.mat3=o);var f={create:function(){var e=new n(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var t=new n(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],a=t[7],c=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=a,e[14]=c}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},invert:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=t[6],s=t[7],l=t[8],f=t[9],m=t[10],M=t[11],p=t[12],h=t[13],L=t[14],v=t[15],G=n*c-r*a,$=n*u-o*a,y=n*s-i*a,g=r*u-o*c,d=r*s-i*c,_=o*s-i*u,b=l*h-f*p,w=l*L-m*p,N=l*v-M*p,x=f*L-m*h,E=f*v-M*h,A=m*v-M*L,T=G*A-$*E+y*x+g*N-d*w+_*b;return T?(T=1/T,e[0]=(c*A-u*E+s*x)*T,e[1]=(o*E-r*A-i*x)*T,e[2]=(h*_-L*d+v*g)*T,e[3]=(m*d-f*_-M*g)*T,e[4]=(u*N-a*A-s*w)*T,e[5]=(n*A-o*N+i*w)*T,e[6]=(L*y-p*_-v*$)*T,e[7]=(l*_-m*y+M*$)*T,e[8]=(a*E-c*N+s*b)*T,e[9]=(r*N-n*E-i*b)*T,e[10]=(p*d-h*y+v*G)*T,e[11]=(f*y-l*d-M*G)*T,e[12]=(c*w-a*x-u*b)*T,e[13]=(n*x-r*w+o*b)*T,e[14]=(h*$-p*g-L*G)*T,e[15]=(l*g-f*$+m*G)*T,e):null},adjoint:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=t[6],s=t[7],l=t[8],f=t[9],m=t[10],M=t[11],p=t[12],h=t[13],L=t[14],v=t[15];return e[0]=c*(m*v-M*L)-f*(u*v-s*L)+h*(u*M-s*m),e[1]=-(r*(m*v-M*L)-f*(o*v-i*L)+h*(o*M-i*m)),e[2]=r*(u*v-s*L)-c*(o*v-i*L)+h*(o*s-i*u),e[3]=-(r*(u*M-s*m)-c*(o*M-i*m)+f*(o*s-i*u)),e[4]=-(a*(m*v-M*L)-l*(u*v-s*L)+p*(u*M-s*m)),e[5]=n*(m*v-M*L)-l*(o*v-i*L)+p*(o*M-i*m),e[6]=-(n*(u*v-s*L)-a*(o*v-i*L)+p*(o*s-i*u)),e[7]=n*(u*M-s*m)-a*(o*M-i*m)+l*(o*s-i*u),e[8]=a*(f*v-M*h)-l*(c*v-s*h)+p*(c*M-s*f),e[9]=-(n*(f*v-M*h)-l*(r*v-i*h)+p*(r*M-i*f)),e[10]=n*(c*v-s*h)-a*(r*v-i*h)+p*(r*s-i*c),e[11]=-(n*(c*M-s*f)-a*(r*M-i*f)+l*(r*s-i*c)),e[12]=-(a*(f*L-m*h)-l*(c*L-u*h)+p*(c*m-u*f)),e[13]=n*(f*L-m*h)-l*(r*L-o*h)+p*(r*m-o*f),e[14]=-(n*(c*L-u*h)-a*(r*L-o*h)+p*(r*u-o*c)),e[15]=n*(c*m-u*f)-a*(r*m-o*f)+l*(r*u-o*c),e},determinant:function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],c=e[6],u=e[7],s=e[8],l=e[9],f=e[10],m=e[11],M=e[12],p=e[13],h=e[14];return(t*a-n*i)*(f*(e=e[15])-m*h)-(t*c-r*i)*(l*e-m*p)+(t*u-o*i)*(l*h-f*p)+(n*c-r*a)*(s*e-m*M)-(n*u-o*a)*(s*h-f*M)+(r*u-o*c)*(s*p-l*M)},multiply:function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],u=t[5],s=t[6],l=t[7],f=t[8],m=t[9],M=t[10],p=t[11],h=t[12],L=t[13],v=t[14];t=t[15];var G=n[0],$=n[1],y=n[2],g=n[3];return e[0]=G*r+$*c+y*f+g*h,e[1]=G*o+$*u+y*m+g*L,e[2]=G*i+$*s+y*M+g*v,e[3]=G*a+$*l+y*p+g*t,G=n[4],$=n[5],y=n[6],g=n[7],e[4]=G*r+$*c+y*f+g*h,e[5]=G*o+$*u+y*m+g*L,e[6]=G*i+$*s+y*M+g*v,e[7]=G*a+$*l+y*p+g*t,G=n[8],$=n[9],y=n[10],g=n[11],e[8]=G*r+$*c+y*f+g*h,e[9]=G*o+$*u+y*m+g*L,e[10]=G*i+$*s+y*M+g*v,e[11]=G*a+$*l+y*p+g*t,G=n[12],$=n[13],y=n[14],g=n[15],e[12]=G*r+$*c+y*f+g*h,e[13]=G*o+$*u+y*m+g*L,e[14]=G*i+$*s+y*M+g*v,e[15]=G*a+$*l+y*p+g*t,e}};f.mul=f.multiply,f.translate=function(e,t,n){var r,o,i,a,c,u,s,l,f,m,M,p,h=n[0],L=n[1];return n=n[2],t===e?(e[12]=t[0]*h+t[4]*L+t[8]*n+t[12],e[13]=t[1]*h+t[5]*L+t[9]*n+t[13],e[14]=t[2]*h+t[6]*L+t[10]*n+t[14],e[15]=t[3]*h+t[7]*L+t[11]*n+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],u=t[5],s=t[6],l=t[7],f=t[8],m=t[9],M=t[10],p=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=c,e[5]=u,e[6]=s,e[7]=l,e[8]=f,e[9]=m,e[10]=M,e[11]=p,e[12]=r*h+c*L+f*n+t[12],e[13]=o*h+u*L+m*n+t[13],e[14]=i*h+s*L+M*n+t[14],e[15]=a*h+l*L+p*n+t[15]),e},f.scale=function(e,t,n){var r=n[0],o=n[1];return n=n[2],e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},f.rotate=function(e,n,r,o){var i=o[0],a=o[1];o=o[2];var c,u,s,l,f,m,M,p,h,L,v,G,$,y,g,d,_,b,w,N,x=Math.sqrt(i*i+a*a+o*o);return Math.abs(x)<t?null:(i*=x=1/x,a*=x,o*=x,c=Math.sin(r),s=1-(u=Math.cos(r)),r=n[0],x=n[1],l=n[2],f=n[3],m=n[4],M=n[5],p=n[6],h=n[7],L=n[8],v=n[9],G=n[10],$=n[11],y=i*i*s+u,g=a*i*s+o*c,d=o*i*s-a*c,_=i*a*s-o*c,b=a*a*s+u,w=o*a*s+i*c,N=i*o*s+a*c,i=a*o*s-i*c,a=o*o*s+u,e[0]=r*y+m*g+L*d,e[1]=x*y+M*g+v*d,e[2]=l*y+p*g+G*d,e[3]=f*y+h*g+$*d,e[4]=r*_+m*b+L*w,e[5]=x*_+M*b+v*w,e[6]=l*_+p*b+G*w,e[7]=f*_+h*b+$*w,e[8]=r*N+m*i+L*a,e[9]=x*N+M*i+v*a,e[10]=l*N+p*i+G*a,e[11]=f*N+h*i+$*a,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e)},f.rotateX=function(e,t,n){var r=Math.sin(n);n=Math.cos(n);var o=t[4],i=t[5],a=t[6],c=t[7],u=t[8],s=t[9],l=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*n+u*r,e[5]=i*n+s*r,e[6]=a*n+l*r,e[7]=c*n+f*r,e[8]=u*n-o*r,e[9]=s*n-i*r,e[10]=l*n-a*r,e[11]=f*n-c*r,e},f.rotateY=function(e,t,n){var r=Math.sin(n);n=Math.cos(n);var o=t[0],i=t[1],a=t[2],c=t[3],u=t[8],s=t[9],l=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n-u*r,e[1]=i*n-s*r,e[2]=a*n-l*r,e[3]=c*n-f*r,e[8]=o*r+u*n,e[9]=i*r+s*n,e[10]=a*r+l*n,e[11]=c*r+f*n,e},f.rotateZ=function(e,t,n){var r=Math.sin(n);n=Math.cos(n);var o=t[0],i=t[1],a=t[2],c=t[3],u=t[4],s=t[5],l=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n+u*r,e[1]=i*n+s*r,e[2]=a*n+l*r,e[3]=c*n+f*r,e[4]=u*n-o*r,e[5]=s*n-i*r,e[6]=l*n-a*r,e[7]=f*n-c*r,e},f.fromRotationTranslation=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=i+i;t=r*(l=r+r);var u=r*(f=o+o),s=(r=r*c,o*f),l=(o=o*c,i=i*c,a*l),f=a*f;a*=c;return e[0]=1-(s+i),e[1]=u+a,e[2]=r-f,e[3]=0,e[4]=u-a,e[5]=1-(t+i),e[6]=o+l,e[7]=0,e[8]=r+f,e[9]=o-l,e[10]=1-(t+s),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},f.fromQuat=function(e,t){var n=t[0],r=t[1],o=(u=t[2])+u,i=(n=n*(s=n+n),r*s),a=(r=r*(l=r+r),u*s),c=u*l,u=u*o,s=(f=t[3])*s,l=f*l,f=f*o;return e[0]=1-r-u,e[1]=i+f,e[2]=a-l,e[3]=0,e[4]=i-f,e[5]=1-n-u,e[6]=c+s,e[7]=0,e[8]=a+l,e[9]=c-s,e[10]=1-n-r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},f.frustum=function(e,t,n,r,o,i,a){var c=1/(n-t),u=1/(o-r),s=1/(i-a);return e[0]=2*i*c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(n+t)*c,e[9]=(o+r)*u,e[10]=(a+i)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*s,e[15]=0,e},f.perspective=function(e,t,n,r,o){t=1/Math.tan(t/2);var i=1/(r-o);return e[0]=t/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+r)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*r*i,e[15]=0,e},f.ortho=function(e,t,n,r,o,i,a){var c=1/(t-n),u=1/(r-o),s=1/(i-a);return e[0]=-2*c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*s,e[11]=0,e[12]=(t+n)*c,e[13]=(o+r)*u,e[14]=(a+i)*s,e[15]=1,e},f.lookAt=function(e,n,r,o){var i,a,c,u,s,l,m,M,p=n[0],h=n[1];return n=n[2],c=o[0],u=o[1],a=o[2],m=r[0],o=r[1],i=r[2],Math.abs(p-m)<t&&Math.abs(h-o)<t&&Math.abs(n-i)<t?f.identity(e):(r=p-m,o=h-o,m=n-i,i=u*(m*=M=1/Math.sqrt(r*r+o*o+m*m))-a*(o*=M),a=a*(r*=M)-c*m,c=c*o-u*r,(M=Math.sqrt(i*i+a*a+c*c))?(i*=M=1/M,a*=M,c*=M):c=a=i=0,u=o*c-m*a,s=m*i-r*c,l=r*a-o*i,(M=Math.sqrt(u*u+s*s+l*l))?(u*=M=1/M,s*=M,l*=M):l=s=u=0,e[0]=i,e[1]=u,e[2]=r,e[3]=0,e[4]=a,e[5]=s,e[6]=o,e[7]=0,e[8]=c,e[9]=l,e[10]=m,e[11]=0,e[12]=-(i*p+a*h+c*n),e[13]=-(u*p+s*h+l*n),e[14]=-(r*p+o*h+m*n),e[15]=1,e)},f.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},f.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},void 0!==e&&(e.mat4=f);var m={create:function(){var e=new n(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}},M=c.create(),p=c.fromValues(1,0,0),h=c.fromValues(0,1,0);m.rotationTo=function(e,t,n){var r=c.dot(t,n);return-.999999>r?(c.cross(M,p,t),1e-6>c.length(M)&&c.cross(M,h,t),c.normalize(M,M),m.setAxisAngle(e,M,Math.PI),e):.999999<r?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(c.cross(M,t,n),e[0]=M[0],e[1]=M[1],e[2]=M[2],e[3]=1+r,m.normalize(e,e))};var L=o.create();m.setAxes=function(e,t,n,r){return L[0]=n[0],L[3]=n[1],L[6]=n[2],L[1]=r[0],L[4]=r[1],L[7]=r[2],L[2]=-t[0],L[5]=-t[1],L[8]=-t[2],m.normalize(e,m.fromMat3(e,L))},m.clone=s.clone,m.fromValues=s.fromValues,m.copy=s.copy,m.set=s.set,m.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},m.setAxisAngle=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},m.add=s.add,m.multiply=function(e,t,n){var r=t[0],o=t[1],i=t[2];t=t[3];var a=n[0],c=n[1],u=n[2];return n=n[3],e[0]=r*n+t*a+o*u-i*c,e[1]=o*n+t*c+i*a-r*u,e[2]=i*n+t*u+r*c-o*a,e[3]=t*n-r*a-o*c-i*u,e},m.mul=m.multiply,m.scale=s.scale,m.rotateX=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2];t=t[3];var a=Math.sin(n);return n=Math.cos(n),e[0]=r*n+t*a,e[1]=o*n+i*a,e[2]=i*n-o*a,e[3]=t*n-r*a,e},m.rotateY=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2];t=t[3];var a=Math.sin(n);return n=Math.cos(n),e[0]=r*n-i*a,e[1]=o*n+t*a,e[2]=i*n+r*a,e[3]=t*n-o*a,e},m.rotateZ=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2];t=t[3];var a=Math.sin(n);return n=Math.cos(n),e[0]=r*n+o*a,e[1]=o*n-r*a,e[2]=i*n+t*a,e[3]=t*n-i*a,e},m.calculateW=function(e,t){var n=t[0],r=t[1],o=t[2];return e[0]=n,e[1]=r,e[2]=o,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),e},m.dot=s.dot,m.lerp=s.lerp,m.slerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2];t=t[3];var c,u,s,l=n[0],f=n[1],m=n[2];return 0>(u=o*l+i*f+a*m+t*(n=n[3]))&&(u=-u,l=-l,f=-f,m=-m,n=-n),1e-6<1-u?(c=Math.acos(u),s=Math.sin(c),u=Math.sin((1-r)*c)/s,r=Math.sin(r*c)/s):u=1-r,e[0]=u*o+r*l,e[1]=u*i+r*f,e[2]=u*a+r*m,e[3]=u*t+r*n,e},m.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=(a=n*n+r*r+o*o+i*i)?1/a:0;return e[0]=-n*a,e[1]=-r*a,e[2]=-o*a,e[3]=i*a,e},m.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},m.length=s.length,m.len=m.length,m.squaredLength=s.squaredLength,m.sqrLen=m.squaredLength,m.normalize=s.normalize,m.fromMat3=function(e,t){if(0<(i=t[0]+t[4]+t[8]))i=Math.sqrt(i+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var r=(n+1)%3,o=(n+2)%3,i=Math.sqrt(t[3*n+n]-t[3*r+r]-t[3*o+o]+1);e[n]=.5*i,i=.5/i,e[3]=(t[3*r+o]-t[3*o+r])*i,e[r]=(t[3*r+n]+t[3*n+r])*i,e[o]=(t[3*o+n]+t[3*n+o])*i}return e},m.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},void 0!==e&&(e.quat=m)}(GLMAT);try{module.exports=GLMAT}catch(e){}try{glm.exists&&alert("glm.common.js loaded over exist glm instance: "+glm)}catch(e){}for(var p in glm=null,GLMJS_PREFIX="glm-js: ",GLM={$DEBUG:"undefined"!=typeof $GLM_DEBUG&&$GLM_DEBUG,version:"0.0.6c",GLM_VERSION:96,$outer:{polyfills:GLM_polyfills(),functions:{},intern:function(e,t){if(e){if(void 0!==t||"object"!=typeof e)return GLM.$DEBUG&&GLM.$outer.console.debug("intern "+e,t&&(t.name||typeof t)),GLM.$outer[e]=t;for(var n in e)GLM.$outer.intern(n,e[n])}},$import:function(e){GLM.$outer.$import=function(){throw Error("glm.$outer.$import already called...")},GLM.$outer.intern(e.statics),GLM.$template.extend(GLM,GLM.$template["declare<T,V,number>"](e["declare<T,V,number>"]),GLM.$template["declare<T,V,...>"](e["declare<T,V,...>"]),GLM.$template["declare<T,...>"](e["declare<T,...>"]),GLM.$template["declare<T>"](e["declare<T>"])),GLM.$init(e)},console:$GLM_reset_logging(),quat_array_from_xyz:function(e){var t=glm.quat(),n=glm.mat3(1);return t["*="](glm.angleAxis(e.x,n[0])),t["*="](glm.angleAxis(e.y,n[1])),t["*="](glm.angleAxis(e.z,n[2])),t.elements},Array:Array,ArrayBuffer:ArrayBuffer,Float32Array:Float32Array,Float64Array:Float64Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,DataView:"undefined"!=typeof DataView&&DataView,$rebindTypedArrays:function(e){var t=Object.keys(GLM.$outer).filter(RegExp.prototype.test.bind(/.Array$|^ArrayBuffer$|^DataView$/)).map(function(t){var n=e.call(this,t,GLM.$outer[t]);return n!==GLM.$outer[t]&&(GLM.$outer.console.warn("$rebindTypedArrays("+t+")... replacing"),GLM.$outer[t]=n),n});return GLM.$subarray=GLM.patch_subarray(),t}},$extern:$GLM_extern,$log:$GLM_log,GLMJSError:$GLM_GLMJSError("GLMJSError"),_radians:function(e){return e*this.PI/180}.bind(Math),_degrees:function(e){return 180*e/this.PI}.bind(Math),normalize:$GLM_extern("normalize"),inverse:$GLM_extern("inverse"),distance:$GLM_extern("distance"),length:$GLM_extern("length"),length2:$GLM_extern("length2"),transpose:$GLM_extern("transpose"),slerp:$GLM_extern("slerp"),mix:$GLM_extern("mix"),clamp:$GLM_extern("clamp"),angleAxis:$GLM_extern("angleAxis"),rotate:$GLM_extern("rotate"),scale:$GLM_extern("scale"),translate:$GLM_extern("translate"),lookAt:$GLM_extern("lookAt"),cross:$GLM_extern("cross"),dot:$GLM_extern("dot"),perspective:function(e,t,n,r){return GLM.$outer.mat4_perspective(e,t,n,r)},ortho:function(e,t,n,r,o,i){return GLM.$outer.mat4_ortho(e,t,n,r,o,i)},_eulerAngles:function(e){return GLM.$outer.vec3_eulerAngles(e)},angle:function(e){return 2*Math.acos(e.w)},axis:function(e){var t=1-e.w*e.w;return 0>=t?glm.vec3(0,0,1):(t=1/Math.sqrt(t),glm.vec3(e.x*t,e.y*t,e.z*t))},$from_ptr:function(e,t,n){if(this!==GLM)throw new GLM.GLMJSError("... use glm.make_<type>() (not new glm.make<type>())");return t=new GLM.$outer.Float32Array(t.buffer||t,n||0,e.componentLength),new e(t=new GLM.$outer.Float32Array(t))},make_vec2:function(e,t){return GLM.$from_ptr.call(this,GLM.vec2,e,2===arguments.length?t:e.byteOffset)},make_vec3:function(e,t){return GLM.$from_ptr.call(this,GLM.vec3,e,2===arguments.length?t:e.byteOffset)},make_vec4:function(e,t){return GLM.$from_ptr.call(this,GLM.vec4,e,2===arguments.length?t:e.byteOffset)},make_quat:function(e,t){return GLM.$from_ptr.call(this,GLM.quat,e,2===arguments.length?t:e.byteOffset)},make_mat3:function(e,t){return GLM.$from_ptr.call(this,GLM.mat3,e,2===arguments.length?t:e.byteOffset)},make_mat4:function(e,t){return GLM.$from_ptr.call(this,GLM.mat4,e,2===arguments.length?t:e.byteOffset)},diagonal4x4:function(e){if("vec4"!==GLM.$typeof(e))throw new GLM.GLMJSError("unsupported argtype to GLM.diagonal4x4: "+["type:"+GLM.$typeof(e)]);return e=e.elements,new GLM.mat4([e[0],0,0,0,0,e[1],0,0,0,0,e[2],0,0,0,0,e[3]])},diagonal3x3:function(e){if("vec3"!==GLM.$typeof(e))throw new GLM.GLMJSError("unsupported argtype to GLM.diagonal3x3: "+["type:"+GLM.$typeof(e)]);return e=e.elements,new GLM.mat3([e[0],0,0,0,e[1],0,0,0,e[2]])},_toMat4:function(e){return new GLM.mat4(GLM.$outer.mat4_array_from_quat(e))},FAITHFUL:!0,to_string:function(e,t){try{var n=e.$type||typeof e;if(!GLM[n])throw new GLM.GLMJSError("unsupported argtype to GLM.to_string: "+["type:"+n,e]);return GLM.FAITHFUL?GLM.$to_string(e,t).replace(/[\t\n]/g,""):GLM.$to_string(e,t)}catch(t){return GLM.$DEBUG&&GLM.$outer.console.error("to_string error: ",n,e+"",t),t+""}},$sizeof:function(e){return e.BYTES_PER_ELEMENT},$types:[],$isGLMConstructor:function(e){return!!(e&&e.prototype instanceof GLM.$GLMBaseType)},$getGLMType:function(e){return e instanceof GLM.$GLMBaseType&&e.constructor||"string"==typeof e&&GLM[e]},$isGLMObject:function(e){return!!(e instanceof GLM.$GLMBaseType&&e.$type)},$typeof:function(e){return e instanceof GLM.$GLMBaseType?e.$type:"undefined"},$to_array:function(e){return[].slice.call(e.elements)},$to_json:function(e,t,n){return this instanceof GLM.$GLMBaseType&&(n=t,t=e,e=this),JSON.stringify(GLM.$to_object(e),t,n)},$inspect:function(e){return this instanceof GLM.$GLMBaseType&&(e=this),GLM.$to_json(e,null,2)},_clamp:function(e,t,n){return e<t?t:e>n?n:e},_abs:function(e){return Math.abs(e)},_equal:function(e,t){return e===t},_epsilonEqual:function(e,t,n){return Math.abs(e-t)<n},_fract:function(e){return e-Math.floor(e)},_frexp:function(){function e(t,n){var r=GLM.$outer.DataView||e._DataView;if(0==t)return n&&Array.isArray(n)?n[0]=n[1]=0:[0,0];(r=new r(new GLM.$outer.ArrayBuffer(8))).setFloat64(0,t);var o=r.getUint32(0)>>>20&2047;return 0===o&&(r.setFloat64(0,t*Math.pow(2,64)),o=(r.getUint32(0)>>>20&2047)-64),r=o-1022,o=GLM.ldexp(t,-r),n&&Array.isArray(n)?(n[0]=r,n[1]=o):[o,r]}return e._DataView=function(e){this.buffer=e,this.setFloat64=function(e,t){if(0!==e)throw Error("...this is a very limited DataView emulator");new Uint8Array(this.buffer).set([].reverse.call(new Uint8Array(new Float64Array([t]).buffer)),e)},this.getUint32=function(e){if(0!==e)throw Error("...this is a very limited DataView emulator");return new Uint32Array(new Uint8Array([].slice.call(new Uint8Array(this.buffer)).reverse()).buffer)[1]}},e}(),_ldexp:function(e,t){return 1023<t?e*Math.pow(2,1023)*Math.pow(2,t-1023):-1074>t?e*Math.pow(2,-1074)*Math.pow(2,t+1074):e*Math.pow(2,t)},_max:Math.max,_min:Math.min,sqrt:Math.sqrt,__sign:function(e){return 0<e?1:0>e?-1:+e},$constants:{epsilon:1e-6,euler:.5772156649015329,e:Math.E,ln_ten:Math.LN10,ln_two:Math.LN2,pi:Math.PI,half_pi:Math.PI/2,quarter_pi:Math.PI/4,one_over_pi:1/Math.PI,two_over_pi:2/Math.PI,root_pi:Math.sqrt(Math.PI),root_two:Math.sqrt(2),root_three:Math.sqrt(3),two_over_root_pi:2/Math.sqrt(Math.PI),one_over_root_two:Math.SQRT1_2,root_two:Math.SQRT2},FIXEDPRECISION:6,$toFixedString:function(e,t,n,r){if(void 0===r&&(r=GLM.FIXEDPRECISION),!n||!n.map)throw Error("unsupported argtype to $toFixedString(..,..,props="+typeof n+")");try{var o="";n.map(function(n){if(!(n=t[o=n]).toFixed)throw Error("!toFixed in w"+[n,e,JSON.stringify(t)]);return n.toFixed(0)})}catch(n){throw GLM.$DEBUG&&GLM.$outer.console.error("$toFixedString error",e,typeof t,Object.prototype.toString.call(t),o),GLM.$DEBUG&&glm.$log("$toFixedString error",e,typeof t,Object.prototype.toString.call(t),o),new GLM.GLMJSError(n)}return n=n.map(function(e){return t[e].toFixed(r)}),e+"("+n.join(", ")+")"}},GLM._sign=Math.sign||GLM.__sign,GLM.$constants)!function(e,t){GLM[t]=function(){return e},GLM[t].valueOf=GLM[t]}(GLM.$constants[p],p);GLM.$GLMBaseType=function(){function e(e,t){var n=e.$||{};this.$type=t,this.$type_name=n.name||"<"+t+">",n.components&&(this.$components=n.components[0]),this.$len=this.components=e.componentLength,this.constructor=e,this.byteLength=e.BYTES_PER_ELEMENT,GLM.$types.push(t)}return e.prototype={clone:function(){return new this.constructor(new this.elements.constructor(this.elements))},toString:function(){return GLM.$to_string(this)},inspect:function(){return GLM.$inspect(this)},toJSON:function(){return GLM.$to_object(this)}},Object.defineProperty(e.prototype,"address",{get:function(){var e=this.elements.byteOffset.toString(16);return"0x00000000".substr(0,10-e.length)+e}}),e}(),function(){function e(e,t,n){return e.subarray(t,n||e.length)}function t(e,t,n){var r=e.constructor;return n=n||e.length,new r(e.buffer,e.byteOffset+t*r.BYTES_PER_ELEMENT,n-t)}function n(e){var t=new GLM.$outer.Float32Array([0,0]);return e(e(t,1),0)[0]=1,e=n.result=[t[1],e(new GLM.$outer.Float32Array(16),12,16).length],!(t[1]!==e[0]||4!==e[1])}Object.defineProperty(GLM,"patch_subarray",{configurable:!0,value:function(){var r=function e(){var t=new GLM.$outer.Float32Array([0,0]);t.subarray(1).subarray(0)[0]=1;var n=e.result=[t[1],new GLM.$outer.Float32Array(16).subarray(12,16).length];return!(t[1]!==n[0]||4!==n[1])}()?e:t;if(r.workaround_broken_spidermonkey_subarray=t,r.native_subarray=e,!n(r))throw Error("failed to resolve working TypedArray.subarray implementation... "+n.result);return r}})}(),GLM.$subarray=GLM.patch_subarray();var GLM_template=GLM.$template={_genArgError:function(e,t,n,r){~r.indexOf(void 0)&&(r=r.slice(0,r.indexOf(void 0)));var o=RegExp.prototype.test.bind(/^[^$_]/);return new GLM.GLMJSError("unsupported argtype to "+t+" "+e.$sig+": [typ="+n+"] :: got arg types: "+r.map(GLM.$template.jstypes.get)+" // supported types: "+Object.keys(e).filter(o).join("||"))},jstypes:{get:function(e){return null===e?"null":void 0===e?"undefined":e.$type||GLM.$template.jstypes[typeof e]||GLM.$template.jstypes[e+""]||function(e){if("object"==typeof e){if(e instanceof GLM.$outer.Float32Array)return"Float32Array";if(e instanceof GLM.$outer.ArrayBuffer)return"ArrayBuffer";if(Array.isArray(e))return"array"}return"<unknown "+[typeof e,e]+">"}(e)},0:"float",boolean:"bool",number:"float",string:"string","[object Float32Array]":"Float32Array","[object ArrayBuffer]":"ArrayBuffer",function:"function"},_add_overrides:function(e,t){for(var n in t)t[n]&&GLM[n].override(e,t[n])},_add_inline_override:function(a,b,c){return this[b]=eval(GLM.$template._traceable("glm_"+a+"_"+b,c))(),this},_inline_helpers:function(e,t){return Object.defineProperty(e,"GLM",{value:GLM}),{$type:"built-in",$type_name:t,$template:e,F:e,dbg:t,override:this._add_inline_override.bind(e,t),link:function(n){var r=e[n];if(r||(r=e[[n,"undefined"]]),!r)throw new GLM.GLMJSError("error linking direct function for "+t+"<"+n+"> or "+t+"<"+[n,void 0]+">");return/\bthis[\[.]/.test(r+"")?r.bind(e):r}}},"template<T>":function(a,b){a.$sig="template<T>";var c=GLM.$template.jstypes,e=GLM.$template._genArgError,d=GLM.$GLMBaseType;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("Tglm_"+b,function(t){this instanceof d&&(t=this);var n=[t&&t.$type||c[typeof t]||c.get(t)||"null"];if(!a[n])throw e(a,arguments.callee.dbg,n,[t]);return a[n](t)}))())},"template<T,...>":function(a,b){a.$sig="template<T,...>";var c=GLM.$template.jstypes,e=GLM.$template._genArgError,d=GLM.$GLMBaseType;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("Tdotglm_"+b,function(t){for(var n=Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];if(this instanceof d&&n.unshift(t=this),r=[t&&t.$type||c[typeof t]||c.get(t)||"null"],!a[r])throw e(a,arguments.callee.dbg,r,n);return a[r].apply(a,n)}))())},"template<T,V,number>":function(a,b){a.$sig="template<T,V,number>";var c=GLM.$template.jstypes,e=GLM.$template._genArgError,d=GLM.GLMJSError,h=GLM.$GLMBaseType;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("TVnglm_"+b,function(){for(var t=Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];this instanceof h&&t.unshift(this);n=t[0];var r=t[1],o=(t=t[2],[n&&n.$type||c[typeof n]||c[n+""]||"<unknown "+n+">",r&&r.$type||c[typeof r]||c[r+""]||"<unknown "+r+">"]);if(!a[o])throw e(a,arguments.callee.dbg,o,[n,r,t]);if("number"!=typeof t)throw new d(arguments.callee.dbg+a.$sig+": unsupported n type: "+[typeof t,t]);return a[o](n,r,t)}))())},"template<T,V,...>":function(a,b){a.$sig="template<T,V,...>";var c=GLM.$template.jstypes,e=GLM.$GLMBaseType,d=GLM.$template._genArgError,h=GLM.$outer.Array;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("TVglm_"+b,function(){for(var t=new h(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];this instanceof e&&t.unshift(this);n=t[0];var r=t[1];n=[n&&n.$type||c[typeof n],r&&r.$type||c[typeof r]||c[r+""]||h.isArray(r)&&"array"+r.length||""+r];if(!a[n])throw d(a,arguments.callee.dbg,n,t);return a[n].apply(a,t)}))())},override:function(e,t,n,r,o){function i(e,n){GLM.$outer.console.debug("glm.$template.override: "+t+" ... "+Object.keys(e.$template).filter(function(e){return!~e.indexOf("$")}).map(function(e){return~n.indexOf(e)?e:"*"+e+"*"}).join(" | "))}if(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: ",e,t,n.$op?'$op: ["'+n.$op+'"]':""),!r)throw Error("unspecified target group "+r+' (expected override(<TV>, "p", {TSP}, ret={GROUP}))');var a=r[t];if(a&&a.$op!==n.$op)throw Error('glm.$template.override: mismatch merging existing override: .$op "'+[a.$op,"!=",n.$op].join(" ")+'"  p='+[t,a.$op,n.$op,"||"+Object.keys(a.$template).join("||")]);var c=GLM.$template[e](GLM.$template.deNify(n,t),t);if(a&&a.F.$sig!==c.F.$sig)throw Error('glm.$template.override: mismatch merging existing override: .$sig "'+[a&&a.F.$sig,"!=",c.F.$sig].join(" ")+'"  p='+[t,a&&a.F.$sig,c.F.$sig,"||"+Object.keys(a&&a.$template||{}).join("||")]);if(c.$op=n.$op,a){for(var u in c.$template)"$op"===u||"$sig"===u||((e=u in a.$template)&&!0!==o?e&&GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+t+" ... "+u+" skipped"):(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+t+" ... "+u+" merged"),a.$template[u]=c.$template[u]));if(GLM.$DEBUG){var s=[];Object.keys(a.$template).forEach(function(e){e in c.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+t+" ... "+e+" carried-forward"),s.push(e))}),i(r[t],s)}}else r[t]=c,GLM.$DEBUG&&i(r[t],[]);return r},_override:function(e,t,n){for(var r in t){if("mat4_scale"!==r&&"object"!=typeof t[r])throw new GLM.GLMJSError("expect object property overrides"+[r,t[r],Object.keys(n)]);"object"==typeof t[r]?this.override(e,r,t[r],n,!0):ret_scale=5}return n},slingshot:function(){return this.extend.apply(this,[].reverse.call(arguments))},extend:function(e,t){return[].slice.call(arguments,1).forEach(function(t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e},"declare<T,V,...>":function(e){return e?this._override("template<T,V,...>",e,GLM.$outer.functions):{}},"declare<T>":function(e){return e?this._override("template<T>",e,GLM.$outer.functions):{}},"declare<T,...>":function(e){return e?this._override("template<T,...>",e,GLM.$outer.functions):{}},"declare<T,V,number>":function(e){return e?this._override("template<T,V,number>",e,GLM.$outer.functions):{}},_tojsname:function(e){return(e||"_").replace(/[^$a-zA-Z0-9_]/g,"_")},_traceable:function(a,b){var c=b;if("function"!=typeof c)throw new GLM.GLMJSError("_traceable expects tidy function as second arg "+c);if(!a)throw new GLM.GLMJSError("_traceable expects hint or what's the point"+[c,a]);if(a=this._tojsname(a||"_traceable"),c=c.toString().replace(/^(\s*var\s*(\w+)\s*=\s*)__VA_ARGS__;/gm,function(e,t,n){return t+"new Array(arguments.length);for(var I=0;I<varname.length;I++)varname[I]=arguments[I];".replace(/I/g,"__VA_ARGS__I").replace(/varname/g,n)}).replace(/\barguments[.]callee\b/g,a),/^function _traceable/.test(c))throw new GLM.GLMJSError("already wrapped in a _traceable: "+[c,a]);if(c='function _traceable(){ "use strict"; SRC; return HINT; }'.replace("HINT",a.replace(/[$]/g,"$$$$")).replace("SRC",c.replace(/[$]/g,"$$$$").replace(/^function\s*\(/,"function "+a+"(")),c="1,"+c,GLM.$DEBUG)try{eval(c)}catch(e){throw console.error("_traceable error",a,c,b,e),e}return c},deNify:function(a,b){var c={vec:[2,3,4],mat:[3,4]},e=this._tojsname.bind(this),d;for(d in a){var h=!1;d.replace(/([vV]ec|[mM]at)(?:\w*)<N>/,function(j,g){h=!0;var k=a[d];delete a[d],c[g.toLowerCase()].forEach(function(c){var g=d.replace(/<N[*]N>/g,c*c).replace(/<N>/g,c);if(!(g in a)){var h=e("glm_"+b+"_"+g);a[g]=eval("'use strict'; 1,"+(k+"").replace(/^function\s*\(/,"function "+h+"(").replace(/N[*]N/g,c*c).replace(/N/g,c))}})}.bind(this)),/^[$]/.test(d)?GLM.$DEBUG&&GLM.$outer.console.debug("@ NOT naming "+d):!h&&"function"==typeof a[d]&&!a[d].name&&(GLM.$DEBUG&&GLM.$outer.console.debug("naming "+e(b+"_"+d)),a[d]=eval(this._traceable("glm_"+b+"_"+d,a[d]))())}return a},$_module_stamp:+new Date,_iso:"/[*][^/*]*[*]/",_get_argnames:function(e){return(e+"").replace(/\s+/g,"").replace(RegExp(this._iso,"g"),"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)},_fix_$_names:function(a,b){return Object.keys(b).filter(function(e){return"function"==typeof b[e]&&!b[e].name}).map(function(c){var e=a+"_"+c;GLM.$DEBUG&&GLM.$outer.console.debug("naming $."+c+" == "+e,this._traceable(e,b[c])),b[c]=eval(this._traceable("glm_"+e,b[c]))()}.bind(this)),b},_typedArrayMaker:function(e,t){return function(n){if(n.length===e)return new t(n);var r=new t(e);return r.set(n),r}},GLMType:function(a,b){var c=this._fix_$_names(a,b),e=c.identity.length,d,h=Object,j=GLM.$template._get_argnames.bind(GLM.$template),g=GLM.GLMJSError,k={},i;for(i in c)"function"==typeof c[i]&&function(e){k[i]=function(t){return e.apply(c,t)}}(c[i]);d=function(e){var t=k[typeof e[0]+e.length];if(!t){var n="glm."+a;throw e=n+"("+e.map(function(e){return typeof e})+")",t=h.keys(c).filter(function(e){return"function"==typeof c[e]&&/^\w+\d+$/.test(e)}).map(function(e){return n+"("+j(c[e])+")"}),new g("no constructor found for: "+e+"\nsupported signatures:\n\t"+t.join("\n\t"))}return t};var w,r=GLM;GLM.$template._get_argnames.bind(GLM.$template),w=function(t,n){if(2<r.$DEBUG&&r.$outer.console.info("adopting elements...",typeof t),t.length!=e){if(!1===n)return n;r.$outer.console.error(a+" elements size mismatch: "+["wanted:"+e,"handed:"+t.length]);var o=r.$subarray(t,0,e);throw new r.GLMJSError(a+" elements size mismatch: "+["wanted:"+e,"handed:"+t.length,"theoreticaly-correctable?:"+(o.length===e)])}return t};var m=this._typedArrayMaker(e,GLM.$outer.Float32Array),q,s=GLM.$outer;q=function(e){return e instanceof s.Float32Array};var t=function(a,b,c,g,h,i,j,k){return eval(k("glm_"+h+"$class",function(n){for(var r=new a(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=d(r);if(!(this instanceof(o=t)))return new o(r=q(n)&&n.length===e?m(n):i(r));r=q(n)?w(n):m(i(r)),b.defineProperty(this,"elements",{enumerable:!1,configurable:!0,value:r})}))()}(Array,Object,GLM,c,a,GLM.$template._get_argnames.bind(GLM.$template),GLM.GLMJSError,GLM.$template._traceable.bind(GLM.$template));return c.components=c.components?c.components.map(function(e){return"string"==typeof e?e.split(""):e}):[],t.$=c,t.componentLength=e,t.BYTES_PER_ELEMENT=e*GLM.$outer.Float32Array.BYTES_PER_ELEMENT,t.prototype=new GLM.$GLMBaseType(t,a),t.toJSON=function(){var e,n={glm$type:a,glm$class:t.prototype.$type_name,glm$eg:(new t).object};for(e in t)/function |^[$]/.test(e+t[e])||(n[e]=t[e]);return n},t}},a;function $GLM_extern(e,t){return t=t||e,function(){if(GLM[t]=GLM.$outer.functions[e]||GLM.$outer[e],!GLM[t])throw new GLM.GLMJSError("$GLM_extern: unresolved external symbol: "+e);return GLM.$DEBUG&&GLM.$outer.console.debug("$GLM_extern: resolved external symbol "+e+" "+typeof GLM[t]),GLM[t].apply(this,arguments)}}function GLM_polyfills(){var e={};return"bind"in Function.prototype||(e.bind=Function.prototype.bind=function(e){function t(){}if("function"!=typeof this)throw new TypeError("not callable");var n=[].slice,r=n.call(arguments,1),o=this,i=function(){return o.apply(this instanceof t?this:e||global,r.concat(n.call(arguments)))};return t.prototype=this.prototype||t.prototype,i.prototype=new t,i}),e}function $GLM_reset_logging(e){e&&"object"==typeof e&&($GLM_log=e.$GLM_log,$GLM_console_log=e.$GLM_console_log,$GLM_console_factory=e.$GLM_console_factory,GLM.$outer.console=e.console,e=!1),(e||void 0===$GLM_log)&&($GLM_log=function(e,t){GLM.$outer.console.log.apply(GLM.$outer.console,[].slice.call(arguments).map(function(e){var t=typeof e;return"xboolean"===t||"string"===t?e+"":GLM.$isGLMObject(e)||!isNaN(e)?GLM.to_string(e):e+""}))}),(e||void 0===$GLM_console_log)&&($GLM_console_log=function(e,t){(console[e]||function(){}).apply(console,[].slice.call(arguments,1))}),(e||void 0===$GLM_console_factory)&&($GLM_console_factory=function(e){return $GLM_console_log.bind($GLM_console_log,e)});var t=$GLM_console_factory,n={};return"debug,warn,info,error,log,write".replace(/\w+/g,function(e){n[e]=t(e)}),"object"==typeof GLM&&(GLM.$outer&&(GLM.$outer.console=n),GLM.$log=$GLM_log),n}GLM.$template["declare<T,V,...>"]({cross:{"vec2,vec2":function(e,t){return this.GLM.vec3(0,0,e.x*t.y-e.y*t.x)}},distance:{"vec<N>,vec<N>":function(e,t){return this.GLM.length(t.sub(e))}}}),GLM.$template["declare<T,V,number>"]({mix:{"float,float":function(e,t,n){return t*n+e*(1-n)},"vec<N>,vec<N>":function(e,t,n){var r=1-n,o=new this.GLM.vecN(new e.elements.constructor(N)),i=o.elements;e=e.elements,t=t.elements;for(var a=0;a<N;a++)i[a]=t[a]*n+e[a]*r;return o}},clamp:{"float,float":function(e,t,n){return GLM._clamp(e,t,n)},"vec<N>,float":function(e,t,n){return new GLM.vecN(GLM.$to_array(e).map(function(e){return GLM._clamp(e,t,n)}))}},epsilonEqual:{"float,float":GLM._epsilonEqual,"vec<N>,vec<N>":function(e,t,n){for(var r=this["float,float"],o=glm.bvecN(),i=0;i<N;i++)o[i]=r(e[i],t[i],n);return o},"ivec<N>,ivec<N>":function(e,t,n){return this["vecN,vecN"](e,t,n)},"uvec<N>,uvec<N>":function(e,t,n){return this["vecN,vecN"](e,t,n)},"quat,quat":function(e,t,n){for(var r=this["float,float"],o=glm.bvec4(),i=0;4>i;i++)o[i]=r(e[i],t[i],n);return o},"mat<N>,mat<N>":function(){throw new GLM.GLMJSError("error: 'epsilonEqual' only accept floating-point and integer scalar or vector inputs")}}}),GLM.$template.extend(GLM,GLM.$template["declare<T>"]({degrees:{float:function(e){return this.GLM._degrees(e)},"vec<N>":function(e){return new this.GLM.vecN(this.GLM.$to_array(e).map(this.GLM._degrees))}},radians:{float:function(e){return this.GLM._radians(e)},"vec<N>":function(e){return new this.GLM.vecN(this.GLM.$to_array(e).map(this.GLM._radians))}},sign:{null:function(){return 0},undefined:function(){return NaN},string:function(){return NaN},float:function(e){return GLM._sign(e)},"vec<N>":function(e){return new GLM.vecN(GLM.$to_array(e).map(GLM._sign))},"ivec<N>":function(e){return new GLM.ivecN(GLM.$to_array(e).map(GLM._sign))}},abs:{float:function(e){return GLM._abs(e)},"vec<N>":function(e){return new GLM.vecN(GLM.$to_array(e).map(GLM._abs))}},fract:{float:function(e){return GLM._fract(e)},"vec<N>":function(e){return new GLM.vecN(GLM.$to_array(e).map(GLM._fract))}},all:{"vec<N>":function(e){return N===GLM.$to_array(e).filter(Boolean).length},"bvec<N>":function(e){return N===GLM.$to_array(e).filter(Boolean).length},"ivec<N>":function(e){return N===GLM.$to_array(e).filter(Boolean).length},"uvec<N>":function(e){return N===GLM.$to_array(e).filter(Boolean).length},quat:function(e){return 4===GLM.$to_array(e).filter(Boolean).length}},$to_object:{vec2:function(e){return{x:e.x,y:e.y}},vec3:function(e){return{x:e.x,y:e.y,z:e.z}},vec4:function(e){return{x:e.x,y:e.y,z:e.z,w:e.w}},uvec2:function(e){return{x:e.x,y:e.y}},uvec3:function(e){return{x:e.x,y:e.y,z:e.z}},uvec4:function(e){return{x:e.x,y:e.y,z:e.z,w:e.w}},ivec2:function(e){return{x:e.x,y:e.y}},ivec3:function(e){return{x:e.x,y:e.y,z:e.z}},ivec4:function(e){return{x:e.x,y:e.y,z:e.z,w:e.w}},bvec2:function(e){return{x:!!e.x,y:!!e.y}},bvec3:function(e){return{x:!!e.x,y:!!e.y,z:!!e.z}},bvec4:function(e){return{x:!!e.x,y:!!e.y,z:!!e.z,w:!!e.w}},quat:function(e){return{w:e.w,x:e.x,y:e.y,z:e.z}},mat3:function(e){return{0:this.vec3(e[0]),1:this.vec3(e[1]),2:this.vec3(e[2])}},mat4:function(e){return{0:this.vec4(e[0]),1:this.vec4(e[1]),2:this.vec4(e[2]),3:this.vec4(e[3])}}},roll:{$atan2:Math.atan2,quat:function(e){return this.$atan2(2*(e.x*e.y+e.w*e.z),e.w*e.w+e.x*e.x-e.y*e.y-e.z*e.z)}},pitch:{$atan2:Math.atan2,quat:function(e){return this.$atan2(2*(e.y*e.z+e.w*e.x),e.w*e.w-e.x*e.x-e.y*e.y+e.z*e.z)}},yaw:{$asin:Math.asin,quat:function(e){return this.$asin(this.GLM.clamp(-2*(e.x*e.z-e.w*e.y),-1,1))}},eulerAngles:{quat:function(e){return this.GLM.vec3(this.GLM.pitch(e),this.GLM.yaw(e),this.GLM.roll(e))}}}),GLM.$template["declare<T,...>"]({$from_glsl:{string:function(e,t){var n;return e.replace(/^([$\w]+)\(([-.0-9ef, ]+)\)$/,function(e,r,o){if(!(e=glm[r]||glm["$"+r]))throw new GLM.GLMJSError("glsl decoding issue: unknown type '"+r+"'");if(n=o.split(",").map(parseFloat),t&&t!==e){if(!0===t||t===Array){for(;n.length<e.componentLength;)n.push(n[n.length-1]);return n}throw new GLM.GLMJSError("glsl decoding issue: second argument expected to be undefined|true|Array")}n=e.apply(glm,n)}),n}},$to_glsl:{"vec<N>":function(e,t){var n=GLM.$to_array(e);t&&"object"==typeof t&&"precision"in t&&(n=n.map(function(e){return e.toFixed(t.precision)}));for(;n.length&&n[n.length-2]===n[n.length-1];)n.pop();return e.$type+"("+n+")"},"uvec<N>":function(e,t){return this.vecN(e,t)},"ivec<N>":function(e,t){return this.vecN(e,t)},"bvec<N>":function(e,t){return this.vecN(e,t)},quat:function(e,t){var n;return t&&"object"==typeof t&&"precision"in t&&(n=t.precision),0===e.x+e.y+e.z?"quat("+(void 0===n?e.w:e.w.toFixed(n))+")":this.vec4(e,t)},"mat<N>":function(e,t){var n;t&&"object"==typeof t&&"precision"in t&&(n=t.precision);var r=GLM.$to_array(e);return void 0!==n&&(r=r.map(function(e){return e.toFixed(n)})),r.reduce(function(e,t){return e+1*t},0)===r[0]*N?"matN("+r[0]+")":"matN("+r+")"}},frexp:{float:function(e,t){return 1===arguments.length?this["float,undefined"](e):this["float,array"](e,t)},"vec<N>":function(e,t){if(2>arguments.length)throw new GLM.GLMJSError("frexp(vecN, ivecN) expected ivecN as second parameter");return GLM.vecN(GLM.$to_array(e).map(function(e,n){var r=GLM._frexp(e);return t[n]=r[1],r[0]}))},"float,undefined":function(e){return GLM._frexp(e)},"float,array":function(e,t){return GLM._frexp(e,t)}},ldexp:{float:GLM._ldexp,"vec<N>":function(e,t){return GLM.vecN(GLM.$to_array(e).map(function(e,n){return GLM._ldexp(e,t[n])}))}}})),GLM.$template["declare<T,V,...>"]({rotate:{"float,vec3":function(e,t){return this.GLM.$outer.mat4_angleAxis(e,t)},"mat4,float":function(e,t,n){return e.mul(this.GLM.$outer.mat4_angleAxis(t,n))}},scale:{$outer:GLM.$outer,"mat4,vec3":function(e,t){return e.mul(this.$outer.mat4_scale(t))},"vec3,undefined":function(e){return this.$outer.mat4_scale(e)}},translate:{"mat4,vec3":function(e,t){return e.mul(this.GLM.$outer.mat4_translation(t))},"vec3,undefined":function(e){return this.GLM.$outer.mat4_translation(e)}},angleAxis:{"float,vec3":function(e,t){return this.GLM.$outer.quat_angleAxis(e,t)}},min:{"float,float":function(e,t){return this.GLM._min(e,t)},"vec<N>,float":function(e,t){return new this.GLM.vecN(this.GLM.$to_array(e).map(function(e){return this.GLM._min(e,t)}.bind(this)))}},max:{"float,float":function(e,t){return this.GLM._max(e,t)},"vec<N>,float":function(e,t){return new this.GLM.vecN(this.GLM.$to_array(e).map(function(e){return this.GLM._max(e,t)}.bind(this)))}},equal:{"float,float":GLM._equal,"vec<N>,vec<N>":function(e,t){for(var n=this["float,float"],r=glm.bvecN(),o=0;o<N;o++)r[o]=n(e[o],t[o]);return r},"bvec<N>,bvec<N>":function(e,t){return this["vecN,vecN"](e,t)},"ivec<N>,ivec<N>":function(e,t){return this["vecN,vecN"](e,t)},"uvec<N>,uvec<N>":function(e,t){return this["vecN,vecN"](e,t)},"quat,quat":function(e,t){for(var n=this["float,float"],r=glm.bvec4(),o=0;4>o;o++)r[o]=n(e[o],t[o]);return r}},_slerp:{"quat,quat":function(e,t,n){var r=t,o=glm.dot(glm.vec4(e),glm.vec4(t));return 0>o&&(r=t.mul(-1),o=-o),o>1-glm.epsilon()?glm.quat(glm.mix(e.w,r.w,n),glm.mix(e.x,r.x,n),glm.mix(e.y,r.y,n),glm.mix(e.z,r.z,n)):(t=Math.acos(o),(e.mul(Math.sin((1-n)*t))+r.mul(Math.sin(n*t)))/Math.sin(t))}},rotation:{"vec3,vec3":function(e,t){var n=this.$dot(e,t),r=new e.constructor(new e.elements.constructor(3));if(n>=1-this.$epsilon)return this.$quat();if(n<-1+this.$epsilon)return r=this.$cross(this.$m[2],e),this.$length2(r)<this.$epsilon&&(r=this.$cross(this.$m[0],e)),r=this.$normalize(r),this.$angleAxis(this.$pi,r);r=this.$cross(e,t);var o=1/(n=this.$sqrt(2*(1+n)));return this.$quat(.5*n,r.x*o,r.y*o,r.z*o)}},project:{"vec3,mat4":function(e,t,n,r){return e=glm.vec4(e,1),e=t["*"](e),(e=n["*"](e))["/="](e.w),(e=e["*"](.5)["+"](.5))[0]=e[0]*r[2]+r[0],e[1]=e[1]*r[3]+r[1],glm.vec3(e)}},unProject:{"vec3,mat4":function(e,t,n,r){return t=glm.inverse(n["*"](t)),(e=glm.vec4(e,1)).x=(e.x-r[0])/r[2],e.y=(e.y-r[1])/r[3],e=e["*"](2)["-"](glm.vec4(1)),(r=t["*"](e))["/="](r.w),glm.vec3(r)}},orientedAngle:{"vec3,vec3":function(e,t,n){var r=Math.acos(glm.clamp(glm.dot(e,t),0,1));return glm.mix(r,-r,0>glm.dot(n,glm.cross(e,t))?1:0)}}}),GLM.$to_string=GLM.$template["declare<T,...>"]({$to_string:{function:function(e){return"[function "+(e.name||"anonymous")+"]"},ArrayBuffer:function(e){return"[object ArrayBuffer "+JSON.stringify({byteLength:e.byteLength})+"]"},Float32Array:function(e){return"[object Float32Array "+JSON.stringify({length:e.length,byteOffset:e.byteOffset,byteLength:e.byteLength,BPE:e.BYTES_PER_ELEMENT})+"]"},float:function(e,t){return GLM.$toFixedString("float",{value:e},["value"],t&&t.precision)},string:function(e){return e},bool:function(e){return"bool("+e+")"},"vec<N>":function(e,t){return GLM.$toFixedString(e.$type_name,e,e.$components,t&&t.precision)},"uvec<N>":function(e,t){return GLM.$toFixedString(e.$type_name,e,e.$components,t&&"object"==typeof t&&t.precision||0)},"ivec<N>":function(e,t){return GLM.$toFixedString(e.$type_name,e,e.$components,t&&"object"==typeof t&&t.precision||0)},"bvec<N>":function(e){return e.$type_name+"("+GLM.$to_array(e).map(Boolean).join(", ")+")"},"mat<N>":function(e,t){var n=[0,1,2,3].slice(0,N).map(function(t){return e[t]}).map(function(e){return GLM.$toFixedString("\t",e,e.$components,t&&t.precision)});return e.$type_name+"(\n"+n.join(", \n")+"\n)"},quat:function(e,t){return e=GLM.degrees(GLM.eulerAngles(e)),GLM.$toFixedString("<quat>"+e.$type_name,e,["x","y","z"],t&&t.precision)}}}).$to_string,GLM.$template["declare<T,V,...>"]({copy:{$op:"=","vec<N>,vec<N>":function(e,t){return e.elements.set(t.elements),e},"vec<N>,array<N>":function(e,t){return e.elements.set(t),e},"vec<N>,uvec<N>":function(e,t){return e.elements.set(t.elements),e},"vec<N>,ivec<N>":function(e,t){return e.elements.set(t.elements),e},"vec<N>,bvec<N>":function(e,t){return e.elements.set(t.elements),e},"uvec<N>,uvec<N>":function(e,t){return e.elements.set(t.elements),e},"uvec<N>,array<N>":function(e,t){return e.elements.set(t),e},"uvec<N>,vec<N>":function(e,t){return e.elements.set(t.elements),e},"uvec<N>,ivec<N>":function(e,t){return e.elements.set(t.elements),e},"uvec<N>,bvec<N>":function(e,t){return e.elements.set(t.elements),e},"ivec<N>,ivec<N>":function(e,t){return e.elements.set(t.elements),e},"ivec<N>,array<N>":function(e,t){return e.elements.set(t),e},"ivec<N>,vec<N>":function(e,t){return e.elements.set(t.elements),e},"ivec<N>,uvec<N>":function(e,t){return e.elements.set(t.elements),e},"ivec<N>,bvec<N>":function(e,t){return e.elements.set(t.elements),e},"bvec<N>,ivec<N>":function(e,t){return e.elements.set(t.elements),e},"bvec<N>,array<N>":function(e,t){return e.elements.set(t),e},"bvec<N>,vec<N>":function(e,t){return e.elements.set(t.elements),e},"bvec<N>,uvec<N>":function(e,t){return e.elements.set(t.elements),e},"bvec<N>,bvec<N>":function(e,t){return e.elements.set(t.elements),e},"quat,quat":function(e,t){return e.elements.set(t.elements),e},"mat<N>,mat<N>":function(e,t){return e.elements.set(t.elements),e},"mat<N>,array<N>":function(e,t){if((t=t.reduce(function(e,t){if(!e.concat)throw new GLM.GLMJSError("matN,arrayN -- [[.length===4] x 4] expected");return e.concat(t)}))===N)throw new GLM.GLMJSError("matN,arrayN -- [[N],[N],[N],[N]] expected");return e["="](t)},"mat<N>,array<N*N>":function(e,t){return e.elements.set(t),e},"mat4,array9":function(e,t){return e.elements.set(new GLM.mat4(t).elements),e}},sub:{$op:"-",_sub:function(e,t){return this.GLM.$to_array(e).map(function(e,n){return e-t[n]})},"vec<N>,vec<N>":function(e,t){return new this.GLM.vecN(this._sub(e,t))},"vec<N>,uvec<N>":function(e,t){return new this.GLM.vecN(this._sub(e,t))},"uvec<N>,uvec<N>":function(e,t){return new this.GLM.uvecN(this._sub(e,t))},"uvec<N>,ivec<N>":function(e,t){return new this.GLM.uvecN(this._sub(e,t))},"vec<N>,ivec<N>":function(e,t){return new this.GLM.vecN(this._sub(e,t))},"ivec<N>,uvec<N>":function(e,t){return new this.GLM.ivecN(this._sub(e,t))},"ivec<N>,ivec<N>":function(e,t){return new this.GLM.ivecN(this._sub(e,t))}},sub_eq:{$op:"-=","vec<N>,vec<N>":function(e,t){for(var n=e.elements,r=t.elements,o=0;o<N;o++)n[o]-=r[o];return e},"vec<N>,uvec<N>":function(e,t){return this["vecN,vecN"](e,t)},"uvec<N>,uvec<N>":function(e,t){return this["vecN,vecN"](e,t)},"uvec<N>,ivec<N>":function(e,t){return this["vecN,vecN"](e,t)},"vec<N>,ivec<N>":function(e,t){return this["vecN,vecN"](e,t)},"ivec<N>,ivec<N>":function(e,t){return this["vecN,vecN"](e,t)},"ivec<N>,uvec<N>":function(e,t){return this["vecN,vecN"](e,t)}},add:{$op:"+",_add:function(e,t){return this.GLM.$to_array(e).map(function(e,n){return e+t[n]})},"vec<N>,float":function(e,t){return new this.GLM.vecN(this._add(e,[t,t,t,t]))},"vec<N>,vec<N>":function(e,t){return new this.GLM.vecN(this._add(e,t))},"vec<N>,uvec<N>":function(e,t){return new this.GLM.vecN(this._add(e,t))},"uvec<N>,uvec<N>":function(e,t){return new this.GLM.uvecN(this._add(e,t))},"uvec<N>,ivec<N>":function(e,t){return new this.GLM.uvecN(this._add(e,t))},"vec<N>,ivec<N>":function(e,t){return new this.GLM.vecN(this._add(e,t))},"ivec<N>,ivec<N>":function(e,t){return new this.GLM.ivecN(this._add(e,t))},"ivec<N>,uvec<N>":function(e,t){return new this.GLM.ivecN(this._add(e,t))}},add_eq:{$op:"+=","vec<N>,vec<N>":function(e,t){for(var n=e.elements,r=t.elements,o=0;o<N;o++)n[o]+=r[o];return e},"vec<N>,uvec<N>":function(e,t){return this["vecN,vecN"](e,t)},"uvec<N>,uvec<N>":function(e,t){return this["vecN,vecN"](e,t)},"uvec<N>,ivec<N>":function(e,t){return this["vecN,vecN"](e,t)},"vec<N>,ivec<N>":function(e,t){return this["vecN,vecN"](e,t)},"ivec<N>,ivec<N>":function(e,t){return this["vecN,vecN"](e,t)},"ivec<N>,uvec<N>":function(e,t){return this["vecN,vecN"](e,t)}},div:{$op:"/","vec<N>,float":function(e,t){return new this.GLM.vecN(this.GLM.$to_array(e).map(function(e){return e/t}))}},div_eq:{$op:"/=","vec<N>,float":function(e,t){for(var n=0;n<N;n++)e.elements[n]/=t;return e}},mul:{$op:"*","vec<N>,vec<N>":function(e,t){return new this.GLM.vecN(this.GLM.$to_array(e).map(function(e,n){return e*t[n]}))}},eql_epsilon:(a=function(e,t){return this.GLM.all(this.GLM.epsilonEqual(e,t,this.GLM.epsilon()))},{$op:"~=","vec<N>,vec<N>":a,"mat<N>,mat<N>":a,"quat,quat":a,"uvec<N>,uvec<N>":a,"ivec<N>,ivec<N>":a}),eql:function(e){return{$op:"==","mat<N>,mat<N>":function(e,t){return t.elements.length===glm.$to_array(e).filter(function(e,n){return e===t.elements[n]}).length},"vec<N>,vec<N>":e,"quat,quat":e,"uvec<N>,uvec<N>":e,"ivec<N>,ivec<N>":e,"bvec<N>,bvec<N>":e}}(function(e,t){return GLM.all(GLM.equal(e,t))})}),GLM.string={$type_name:"string",$:{}},GLM.number={$type_name:"float",$:{}},GLM.boolean={$type:"bool",$type_name:"bool",$:{}},GLM.vec2=GLM.$template.GLMType("vec2",{name:"fvec2",identity:[0,0],components:["xy","01"],undefined0:function(){return this.identity},number1:function(e){return[e,e]},number2:function(e,t){return[e,t]},object1:function(e){if(null!==e)switch(e.length){case 4:case 3:case 2:return[e[0],e[1]];default:if("y"in e&&"x"in e){if(typeof e.x!=typeof e.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.vec2: "+e);return"string"==typeof e.x?[1*e.x,1*e.y]:[e.x,e.y]}}throw new GLM.GLMJSError("unrecognized object passed to GLM.vec2: "+e)}}),GLM.uvec2=GLM.$template.GLMType("uvec2",{name:"uvec2",identity:[0,0],components:["xy","01"],_clamp:function(e){return~~e},undefined0:function(){return this.identity},number1:function(e){return[e=this._clamp(e),e]},number2:function(e,t){return[e=this._clamp(e),t=this._clamp(t)]},object1:function(e){switch(e.length){case 4:case 3:case 2:return[e[0],e[1]].map(this._clamp);default:if("y"in e&&"x"in e){if(typeof e.x!=typeof e.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM."+this.name+": "+e);return[e.x,e.y].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+": "+e)}}),GLM.vec3=GLM.$template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],components:["xyz","012","rgb"],undefined0:function(){return GLM.vec3.$.identity},number1:function(e){return[e,e,e]},number2:function(e,t){return[e,t,t]},number3:function(e,t,n){return[e,t,n]},Error:GLM.GLMJSError,object1:function(e){if(e)switch(e.length){case 4:case 3:return[e[0],e[1],e[2]];case 2:return[e[0],e[1],e[1]];default:if("z"in e&&"x"in e){if(typeof e.x!=typeof e.y)throw new this.Error("unrecognized .x-ish object passed to GLM.vec3: "+e);return"string"==typeof e.x?[1*e.x,1*e.y,1*e.z]:[e.x,e.y,e.z]}}throw new this.Error("unrecognized object passed to GLM.vec3: "+e)},object2:function(e,t){if(e instanceof GLM.vec2||e instanceof GLM.uvec2||e instanceof GLM.ivec2||e instanceof GLM.bvec2)return[e.x,e.y,t];throw new GLM.GLMJSError("unrecognized object passed to GLM.vec3(o,z): "+[e,t])}}),GLM.uvec3=GLM.$template.GLMType("uvec3",{name:"uvec3",identity:[0,0,0],components:["xyz","012"],_clamp:GLM.uvec2.$._clamp,undefined0:function(){return this.identity},number1:function(e){return[e=this._clamp(e),e,e]},number2:function(e,t){return[e=this._clamp(e),t=this._clamp(t),t]},number3:function(e,t,n){return[e=this._clamp(e),t=this._clamp(t),n=this._clamp(n)]},object1:function(e){if(e)switch(e.length){case 4:case 3:return[e[0],e[1],e[2]].map(this._clamp);case 2:return[e[0],e[1],e[1]].map(this._clamp);default:if("z"in e&&"x"in e){if(typeof e.x!=typeof e.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM."+this.name+": "+e);return[e.x,e.y,e.z].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+": "+e)},object2:function(e,t){if(e instanceof GLM.vec2)return[e.x,e.y,t].map(this._clamp);if(e instanceof GLM.uvec2||e instanceof GLM.ivec2||e instanceof GLM.bvec2)return[e.x,e.y,this._clamp(t)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+"(o,z): "+[e,t])}}),GLM.vec4=GLM.$template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],components:["xyzw","0123","rgba"],undefined0:function(){return this.identity},number1:function(e){return[e,e,e,e]},number2:function(e,t){return[e,t,t,t]},number3:function(e,t,n){return[e,t,n,n]},number4:function(e,t,n,r){return[e,t,n,r]},Error:GLM.GLMJSError,object1:function(e){if(e)switch(e.length){case 4:return[e[0],e[1],e[2],e[3]];case 3:return[e[0],e[1],e[2],e[2]];case 2:return[e[0],e[1],e[1],e[1]];default:if("w"in e&&"x"in e){if(typeof e.x!=typeof e.w)throw new this.Error("unrecognized .x-ish object passed to GLM.vec4: "+e);return"string"==typeof e.x?[1*e.x,1*e.y,1*e.z,1*e.w]:[e.x,e.y,e.z,e.w]}}throw new this.Error("unrecognized object passed to GLM.vec4: "+[e,e&&e.$type])},$GLM:GLM,object2:function(e,t){if(e instanceof this.$GLM.vec3||e instanceof this.$GLM.uvec3||e instanceof this.$GLM.ivec3||e instanceof this.$GLM.bvec3)return[e.x,e.y,e.z,t];throw new this.$GLM.GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+[e,t])},object3:function(e,t,n){if(e instanceof this.$GLM.vec2||e instanceof this.$GLM.uvec2||e instanceof this.$GLM.ivec2||e instanceof this.$GLM.bvec2)return[e.x,e.y,t,n];throw new this.$GLM.GLMJSError("unrecognized object passed to GLM.vec4(o,z,w): "+[e,t,n])}}),GLM.uvec4=GLM.$template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],components:["xyzw","0123"],_clamp:GLM.uvec2.$._clamp,undefined0:function(){return this.identity},number1:function(e){return[e=this._clamp(e),e,e,e]},number2:function(e,t){return[e=this._clamp(e),t=this._clamp(t),t,t]},number3:function(e,t,n){return[e=this._clamp(e),t=this._clamp(t),n=this._clamp(n),n]},number4:function(e,t,n,r){return[e,t,n,r].map(this._clamp)},Error:GLM.GLMJSError,object1:function(e){if(e)switch(e.length){case 4:return[e[0],e[1],e[2],e[3]].map(this._clamp);case 3:return[e[0],e[1],e[2],e[2]].map(this._clamp);case 2:return[e[0],e[1],e[1],e[1]].map(this._clamp);default:if("w"in e&&"x"in e){if(typeof e.x!=typeof e.y)throw new this.Error("unrecognized .x-ish object passed to GLM."+this.name+": "+e);return[e.x,e.y,e.z,e.w].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+": "+[e,e&&e.$type])},object2:function(e,t){if(e instanceof GLM.vec3)return[e.x,e.y,e.z,t].map(this._clamp);if(e instanceof GLM.uvec3||e instanceof GLM.ivec3||e instanceof GLM.bvec3)return[e.x,e.y,e.z,this._clamp(t)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+"(o,w): "+[e,t])},object3:function(e,t,n){if(e instanceof GLM.vec2)return[e.x,e.y,t,n].map(this._clamp);if(e instanceof GLM.uvec2||e instanceof GLM.ivec2||e instanceof GLM.bvec2)return[e.x,e.y,this._clamp(t),this._clamp(n)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+"(o,z,w): "+[e,t,n])}}),GLM.ivec2=GLM.$template.GLMType("ivec2",GLM.$template.extend({},GLM.uvec2.$,{name:"ivec2"})),GLM.ivec3=GLM.$template.GLMType("ivec3",GLM.$template.extend({},GLM.uvec3.$,{name:"ivec3"})),GLM.ivec4=GLM.$template.GLMType("ivec4",GLM.$template.extend({},GLM.uvec4.$,{name:"ivec4"})),GLM.bvec2=GLM.$template.GLMType("bvec2",GLM.$template.extend({},GLM.uvec2.$,{name:"bvec2",boolean1:GLM.uvec2.$.number1,boolean2:GLM.uvec2.$.number2})),GLM.bvec3=GLM.$template.GLMType("bvec3",GLM.$template.extend({},GLM.uvec3.$,{name:"bvec3",boolean1:GLM.uvec3.$.number1,boolean2:GLM.uvec3.$.number2,boolean3:GLM.uvec3.$.number3})),GLM.bvec4=GLM.$template.GLMType("bvec4",GLM.$template.extend({},GLM.uvec4.$,{name:"bvec4",boolean1:GLM.uvec4.$.number1,boolean2:GLM.uvec4.$.number2,boolean3:GLM.uvec4.$.number3,boolean4:GLM.uvec4.$.number4})),GLM.bvec2.$._clamp=GLM.bvec3.$._clamp=GLM.bvec4.$._clamp=function(e){return!!e},GLM.mat3=GLM.$template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},number1:function(e){return 1===e?this.identity:[e,0,0,0,e,0,0,0,e]},number9:function(e,t,n,r,o,i,a,c,u){return arguments},Error:GLM.GLMJSError,$vec3:GLM.vec3,object1:function(e){if(e){var t=e.elements||e;if(16===t.length)return[t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]];if(9===t.length)return t;if(0 in t&&1 in t&&2 in t&&!(3 in t)&&"object"==typeof t[2])return[t[0],t[1],t[2]].map(this.$vec3.$.object1).reduce(function(e,t){return e.concat(t)})}throw new this.Error("unrecognized object passed to GLM.mat3: "+e)},object3:function(e,t,n){return[e,t,n].map(glm.$to_array).reduce(function(e,t){return e.concat(t)})}}),GLM.mat4=GLM.$template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(e,t,n,r,o,i,a,c,u,s,l,f,m,M,p,h){return arguments},number1:function(e){return 1===e?this.identity:[e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,e]},Error:GLM.GLMJSError,$vec4:GLM.vec4,object1:function(e){var t;if(e){if(9===(t=e.elements||e).length)return[t[0],t[1],t[2],0,t[3],t[4],t[5],0,t[6],t[7],t[8],0,0,0,0,1];if(4===t.length&&t[0]&&4===t[0].length)return t[0].concat(t[1],t[2],t[3]);if(16===t.length)return t;if(0 in t&&1 in t&&2 in t&&3 in t&&!(4 in t)&&"object"==typeof t[3])return[t[0],t[1],t[2],t[3]].map(this.$vec4.$.object1).reduce(function(e,t){return e.concat(t)})}throw new this.Error("unrecognized object passed to GLM.mat4: "+[e,t&&t.length])},object4:function(e,t,n,r){return[e,t,n,r].map(glm.$to_array).reduce(function(e,t){return e.concat(t)})}}),GLM.quat=GLM.$template.GLMType("quat",{identity:[0,0,0,1],components:["xyzw","0123"],undefined0:function(){return this.identity},number1:function(e){if(1!==e)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(e,t,n,r){return[t,n,r,e]},$GLM:GLM,$M3:GLM.mat3(),$quat_array_from_zyx:function(e){var t=this.$M3;return this.$GLM.$outer.quat_angleAxis(e.z,t[2]).mul(this.$GLM.$outer.quat_angleAxis(e.y,t[1])).mul(this.$GLM.$outer.quat_angleAxis(e.x,t[0])).elements},object1:function(e){if(e){if(e instanceof this.$GLM.mat4)return this.$GLM.$outer.quat_array_from_mat4(e);if(4===e.length)return[e[0],e[1],e[2],e[3]];if(e instanceof this.$GLM.quat)return[e.x,e.y,e.z,e.w];if(e instanceof this.$GLM.vec3)return this.$quat_array_from_zyx(e);if("w"in e&&"x"in e)return"string"==typeof e.x?[1*e.x,1*e.y,1*e.z,1*e.w]:[e.x,e.y,e.z,e.w]}throw new this.$GLM.GLMJSError("unrecognized object passed to GLM.quat.object1: "+[e,e&&e.$type,typeof e,e&&e.constructor])}}),function(){var e=function(e,t,n,r){var o={def:function(t,n){this[t]=n,Object.defineProperty(e.prototype,t,n)}};e.$properties=e.$properties||o;var i=e.$properties.def.bind(e.$properties),a=[0,1,2,3].map(function(e){return{enumerable:n,get:function(){return this.elements[e]},set:function(t){this.elements[e]=t}}});if(t.forEach(function(e,t){i(e,a[t])}),isNaN(t[0])&&!/^_/.test(t[0])){o=t.slice();var c=GLM.$subarray;do{!function(e,t,n){"quat"===t&&(t="vec"+n);var r=GLM[t];i(e,{enumerable:!1,get:function(){return new r(c(this.elements,0*n,1*n))},set:function(e){return new r(c(this.elements,0*n,1*n))["="](e)}})}(o.join(""),e.prototype.$type.replace(/[1-9]$/,o.length),o.length)}while(o[1]!=o.pop());if(r)return e.$properties;if(o=t.slice(),t={xyz:{yz:1},xyzw:{yzw:1,yz:1,zw:2}}[o.join("")])for(var u in t)!function(e,t,n,r){i(e,{enumerable:!1,get:function(){return new GLM[t](GLM.$subarray(this.elements,0*n+r,1*n+r))},set:function(e){return new GLM[t](GLM.$subarray(this.elements,0*n+r,1*n+r))["="](e)}})}(u,e.prototype.$type.replace(/[1-9]$/,u.length),u.length,t[u])}return e.$properties};e(GLM.vec2,GLM.vec2.$.components[0],!0),e(GLM.vec2,GLM.vec2.$.components[1]),e(GLM.vec3,GLM.vec3.$.components[0],!0),e(GLM.vec3,GLM.vec3.$.components[1]),e(GLM.vec3,GLM.vec3.$.components[2]),e(GLM.vec4,GLM.vec4.$.components[0],!0),e(GLM.vec4,GLM.vec4.$.components[1]),e(GLM.vec4,GLM.vec4.$.components[2]),e(GLM.quat,GLM.quat.$.components[0],!0,"noswizzles"),e(GLM.quat,GLM.quat.$.components[1]),GLM.quat.$properties.def("wxyz",{enumerable:!1,get:function(){return new GLM.vec4(this.w,this.x,this.y,this.z)},set:function(e){return e=GLM.vec4(e),this["="](GLM.quat(e.x,e.y,e.z,e.w))}}),"uvec2 uvec3 uvec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4".split(" ").forEach(function(t){e(GLM[t],GLM[t].$.components[0],!0),e(GLM[t],GLM[t].$.components[1])}),Object.defineProperty(GLM.quat.prototype,"_x",{get:function(){throw Error("erroneous quat._x access")}});var t,n={2:{yx:{enumerable:!1,get:function(){return new GLM.vec2(this.y,this.x)},set:function(e){e=GLM.vec2(e),this.y=e[0],this.x=e[1]}}},3:{xz:{enumerable:!1,get:function(){return new GLM.vec2(this.x,this.z)},set:function(e){e=GLM.vec2(e),this.x=e[0],this.z=e[1]}},zx:{enumerable:!1,get:function(){return new GLM.vec2(this.z,this.x)},set:function(e){e=GLM.vec2(e),this.z=e[0],this.x=e[1]}},xzy:{enumerable:!1,get:function(){return new GLM.vec3(this.x,this.z,this.y)},set:function(e){e=GLM.vec3(e),this.x=e[0],this.z=e[1],this.y=e[2]}}},4:{xw:{enumerable:!1,get:function(){return new GLM.vec2(this.x,this.w)},set:function(e){e=GLM.vec2(e),this.x=e[0],this.w=e[1]}},wz:{enumerable:!1,get:function(){return new GLM.vec2(this.w,this.z)},set:function(e){e=GLM.vec2(e),this.w=e[0],this.z=e[1]}},wxz:{enumerable:!1,get:function(){return new GLM.vec3(this.w,this.x,this.z)},set:function(e){return e=GLM.vec3(e),this.w=e[0],this.x=e[1],this.z=e[2],this}},xyw:{enumerable:!1,get:function(){return new GLM.vec3(this.x,this.y,this.w)},set:function(e){return e=GLM.vec3(e),this.x=e[0],this.y=e[1],this.w=e[2],this}},xzw:{enumerable:!1,get:function(){return new GLM.vec3(this.x,this.z,this.w)},set:function(e){e=GLM.vec3(e),this.x=e[0],this.z=e[1],this.w=e[2]}},wxyz:{enumerable:!1,get:function(){return new GLM.vec4(this.w,this.x,this.y,this.z)},set:function(e){return e=GLM.vec4(e),this.w=e[0],this.x=e[1],this.y=e[2],this.z=e[3],this}}}};for(t in n)for(var r in n[t])2>=t&&GLM.vec2.$properties.def(r,n[t][r]),3>=t&&GLM.vec3.$properties.def(r,n[t][r]),4>=t&&GLM.vec4.$properties.def(r,n[t][r]);GLM.$partition=function(e,t,n,r){if(void 0===n)throw new GLM.GLMJSError("nrows is undefined");var o=t.$.identity.length;n=n||o;for(var i=function(e){3<GLM.$DEBUG&&GLM.$outer.console.debug("CACHEDBG: "+e)},a=0;a<n;a++)!function(n){var a=r&&r+n,c=n*o;Object.defineProperty(e,n,{configurable:!0,enumerable:!0,set:function(r){if(r instanceof t)this.elements.set(r.elements,c);else{if(!r||r.length!==o)throw new GLM.GLMJSError("unsupported argtype to "+(e&&e.$type)+"["+n+"] setter: "+[typeof r,r]);this.elements.set(r,c)}},get:function(){if(r){if(this[a])return n||i("cache hit "+a),this[a];n||i("cache miss "+a)}var e,u=new t(e=GLM.$subarray(this.elements,c,c+o));if(u.elements!==e)throw new GLM.GLMJSError("v.elements !== t "+[GLM.$subarray,u.elements.constructor===e.constructor,u.elements.buffer===e.buffer]);return r&&Object.defineProperty(this,a,{configurable:!0,enumerable:!1,value:u}),u}})}(a)},GLM.$partition(GLM.mat4.prototype,GLM.vec4,4,"_cache_"),GLM.$partition(GLM.mat3.prototype,GLM.vec3,3,"_cache_")}(),GLM.$dumpTypes=function(e){GLM.$types.forEach(function(t){GLM[t].componentLength&&e("GLM."+t,JSON.stringify({"#type":GLM[t].prototype.$type_name,"#floats":GLM[t].componentLength,"#bytes":GLM[t].BYTES_PER_ELEMENT}))})},GLM.$init=function(e){e.prefix&&(GLMJS_PREFIX=e.prefix),GLM.$prefix=GLMJS_PREFIX;var t=e.log||function(){};try{t("GLM-js: ENV: "+_ENV._VERSION)}catch(e){}t("GLM-JS: initializing: "+JSON.stringify(e,0,2)),t(JSON.stringify({functions:Object.keys(GLM.$outer.functions)}));var n=GLM.mat4,r=GLM.$outer;for(var o in GLM.toMat4=function(e){return new n(r.mat4_array_from_quat(e))},GLM.$template.extend(GLM.rotation.$template,{$quat:GLM.quat,$dot:GLM.dot.link("vec3,vec3"),$epsilon:GLM.epsilon(),$m:GLM.mat3(),$pi:GLM.pi(),$length2:GLM.length2.link("vec3"),$cross:GLM.cross.link("vec3,vec3"),$normalize:GLM.normalize.link("vec3"),$angleAxis:GLM.angleAxis.link("float,vec3"),$sqrt:GLM.sqrt}),GLM.$symbols=[],GLM)"function"==typeof GLM[o]&&/^[a-z]/.test(o)&&GLM.$symbols.push(o);GLM.$types.forEach(function(e){var t,n=GLM[e].prototype.$type;for(t in GLM.$outer.functions){var r=GLM.$outer.functions[t];r.$op&&(GLM.$DEBUG&&GLM.$outer.console.debug("mapping operator<"+n+"> "+t+" / "+r.$op),GLM[e].prototype[t]=r,GLM[e].prototype[r.$op]=r)}}),t("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+e.vendor_name+" vendor_version="+e.vendor_version),glm.vendor=e},GLM.using_namespace=function(a){return GLM.$DEBUG&&GLM.$outer.console.debug("GLM.using_namespace munges globals; it should probably not be used!"),GLM.using_namespace.$tmp={ret:void 0,tpl:a,names:GLM.$symbols,saved:{},evals:[],restore:[],before:[],after:[]},eval(GLM.using_namespace.$tmp.names.map(function(e,t){return"GLM.using_namespace.$tmp.saved['"+e+"'] = GLM.using_namespace.$tmp.before["+t+"] = 'undefined' !== typeof "+e+";"}).join("\n")),GLM.$DEBUG&&console.warn("GLM.using_namespace before #globals: "+GLM.using_namespace.$tmp.before.length),GLM.using_namespace.$tmp.names.map(function(e){GLM.using_namespace.$tmp.restore.push(e+"=GLM.using_namespace.$tmp.saved['"+e+"'];GLM.using_namespace.$tmp.saved['"+e+"']=undefined;delete GLM.using_namespace.$tmp.saved['"+e+"'];"),GLM.using_namespace.$tmp.evals.push(e+"=GLM."+e+";")}),eval(GLM.using_namespace.$tmp.evals.join("\n")),GLM.using_namespace.$tmp.ret=a(),eval(GLM.using_namespace.$tmp.restore.join("\n")),eval(GLM.using_namespace.$tmp.names.map(function(e,t){return"GLM.using_namespace.$tmp.after["+t+"] = 'undefined' !== typeof "+e+";"}).join("\n")),GLM.$DEBUG&&console.warn("GLM.using_namespace after #globals: "+GLM.using_namespace.$tmp.after.length),a=GLM.using_namespace.$tmp.ret,delete GLM.using_namespace.$tmp,a},$GLM_reset_logging.current=function(){return{$GLM_log:void 0!==$GLM_log&&$GLM_log,$GLM_console_log:void 0!==$GLM_console_log&&$GLM_console_log,$GLM_console_prefixed:"undefined"!=typeof $GLM_console_prefixed&&$GLM_console_prefixed,console:GLM.$outer.console}};try{window.$GLM_reset_logging=this.$GLM_reset_logging=$GLM_reset_logging}catch(e){}function $GLM_GLMJSError(e,t){function n(n){this.name=e,this.stack=Error().stack,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=n,t&&t.apply(this,arguments)}return n.prototype=Error(),n.prototype.name=e,n.prototype.constructor=n}GLM.$reset_logging=$GLM_reset_logging,GLM.$log=GLM.$log||$GLM_log,GLMAT.mat4.exists,glm=GLM;var DLL={_version:"0.0.2",_name:"glm.gl-matrix.js",_glm_version:glm.version,prefix:"glm-js[glMatrix]: ",vendor_version:GLMAT.VERSION,vendor_name:"glMatrix"};DLL.statics={$outer:GLM.$outer,$typeArray:function(e){return new this.$outer.Float32Array(e)},$mat4:GLM.mat4,$quat:GLM.quat,$mat4$perspective:GLMAT.mat4.perspective,$mat4$ortho:GLMAT.mat4.ortho,mat4_perspective:function(e,t,n,r){return new this.$mat4(this.$mat4$perspective(this.$typeArray(16),e,t,n,r))},mat4_ortho:function(e,t,n,r,o,i){return new this.$mat4(this.$mat4$ortho(this.$typeArray(16),e,t,n,r,o||-1,i||1))},$quat$setAxisAngle:GLMAT.quat.setAxisAngle,$mat4$fromQuat:GLMAT.mat4.fromQuat,mat4_angleAxis:function(e,t){var n=this.$quat$setAxisAngle(this.$typeArray(4),t,e);return new this.$mat4(this.$mat4$fromQuat(this.$typeArray(16),n))},quat_angleAxis:function(e,t){return new this.$quat(this.$quat$setAxisAngle(this.$typeArray(4),t,e))},$mat4$translate:GLMAT.mat4.translate,mat4_translation:function(e){var t=new this.$mat4;return this.$mat4$translate(t.elements,t.elements,e.elements),t},$mat4$scale:GLMAT.mat4.scale,mat4_scale:function(e){var t=new this.$mat4;return this.$mat4$scale(t.elements,t.elements,e.elements),t},toJSON:function(){var e,t={};for(e in this)0!==e.indexOf("$")&&(t[e]=this[e]);return t},$vec3:GLM.vec3,$clamp:GLM.clamp,mat4_array_from_quat:function(e){return this.$mat4$fromQuat(this.$typeArray(16),e.elements)},$qtmp:new GLM.$outer.Float32Array(9),$quat$fromMat3:GLMAT.quat.fromMat3,$mat3$fromMat4:GLMAT.mat3.fromMat4,quat_array_from_mat4:function(e){return this.$quat$fromMat3(this.$typeArray(4),this.$mat3$fromMat4(this.$qtmp,e.elements))}},DLL["declare<T,V,...>"]={mul:{$op:"*",$typeArray:function(e){return new this.GLM.$outer.Float32Array(e)},$vec3$transformQuat:GLMAT.vec3.transformQuat,"quat,vec3":function(e,t){return new this.GLM.vec3(this.$vec3$transformQuat(this.$typeArray(3),t.elements,e.elements))},"vec3,quat":function(e,t){return this["quat,vec3"](this.GLM.inverse(t),e)},"quat,vec4":function(e,t){return this["mat4,vec4"](this.GLM.toMat4(e),t)},"vec4,quat":function(e,t){return this["quat,vec4"](this.GLM.inverse(t),e)},"$vec<N>$scale":"GLMAT.vecN.scale","vec<N>,float":function(e,t){return new this.GLM.vecN(this.$vecN$scale(this.$typeArray(N),e.elements,t))},"quat,float":function(e,t){return new e.constructor(this["vec4,float"](e,t).elements)},$vec4$transformMat4:GLMAT.vec4.transformMat4,"mat4,vec4":function(e,t){return new GLM.vec4(this.$vec4$transformMat4(this.$typeArray(4),t.elements,e.elements))},"vec4,mat4":function(e,t){return this["mat4,vec4"](GLM.inverse(t),e)},"$mat<N>mul":"GLMAT.matN.mul","mat<N>,mat<N>":function(e,t){return new e.constructor(this.$matNmul(this.$typeArray(N*N),e.elements,t.elements))},$quat$multiply:GLMAT.quat.multiply,"quat,quat":function(e,t){return new e.constructor(this.$quat$multiply(this.$typeArray(4),e.elements,t.elements))}},mul_eq:{$op:"*=","$mat<N>$multiply":"GLMAT.matN.multiply","mat<N>,mat<N>":function(e,t){return this.$matN$multiply(e.elements,e.elements,t.elements),e},"$vec<N>$scale":"GLMAT.vecN.scale","vec<N>,float":function(e,t){return this.$vecN$scale(e.elements,e.elements,t),e},$quat$multiply:GLMAT.quat.multiply,"quat,quat":function(e,t){return this.$quat$multiply(e.elements,e.elements,t.elements),e},$quat$invert:GLMAT.quat.invert,$vec3$transformQuat:GLMAT.vec3.transformQuat,"inplace:vec3,quat":function(e,t){var n=this.$quat$invert(new this.GLM.$outer.Float32Array(4),t.elements);return this.$vec3$transformQuat(e.elements,e.elements,n),e},$mat4$invert:GLMAT.mat4.invert,$vec4$transformMat4:GLMAT.vec4.transformMat4,"inplace:vec4,mat4":function(e,t){var n=this.$mat4$invert(new this.GLM.$outer.Float32Array(16),t.elements);return this.$vec4$transformMat4(e.elements,e.elements,n),e}},cross:{$vec2$cross:GLMAT.vec2.cross,"vec2,vec2":function(e,t){return new this.GLM.vec3(this.$vec2$cross(new this.GLM.$outer.Float32Array(3),e,t))},$vec3$cross:GLMAT.vec3.cross,"vec3,vec3":function(e,t){return new this.GLM.vec3(this.$vec3$cross(new this.GLM.$outer.Float32Array(3),e,t))}},dot:{"$vec<N>$dot":"GLMAT.vecN.dot","vec<N>,vec<N>":function(e,t){return this.$vecN$dot(e,t)}},lookAt:{$mat4$lookAt:GLMAT.mat4.lookAt,"vec3,vec3":function(e,t,n){return new this.GLM.mat4(this.$mat4$lookAt(new this.GLM.$outer.Float32Array(16),e.elements,t.elements,n.elements))}}},DLL["declare<T,V,number>"]={mix:{$quat$slerp:GLMAT.quat.slerp,"quat,quat":function(e,t,n){return new GLM.quat(this.$quat$slerp(new GLM.$outer.Float32Array(4),e.elements,t.elements,n))}}},DLL["declare<T,V,number>"].slerp=DLL["declare<T,V,number>"].mix,DLL["declare<T>"]={normalize:{"$vec<N>normalize":"GLMAT.vecN.normalize",$typeArray:function(e){return new this.GLM.$outer.Float32Array(e)},"vec<N>":function(e){return new this.GLM.vecN(this.$vecNnormalize(this.$typeArray(N),e))},$quat$normalize:GLMAT.quat.normalize,quat:function(e){return new this.GLM.quat(this.$quat$normalize(new this.GLM.$outer.Float32Array(4),e.elements))}},length:{$quat$length:GLMAT.quat.length,quat:function(e){return this.$quat$length(e.elements)},"$vec<N>$length":"GLMAT.vecN.length","vec<N>":function(e){return this.$vecN$length(e.elements)}},length2:{$quat$squaredLength:GLMAT.quat.squaredLength,quat:function(e){return this.$quat$squaredLength(e.elements)},"$vec<N>$squaredLength":"GLMAT.vecN.squaredLength","vec<N>":function(e){return this.$vecN$squaredLength(e.elements)}},inverse:{$quatinvert:GLMAT.quat.invert,quat:function(e){return this.GLM.quat(this.$quatinvert(new this.GLM.$outer.Float32Array(4),e.elements))},$mat4invert:GLMAT.mat4.invert,mat4:function(e){return e=e.clone(),null===this.$mat4invert(e.elements,e.elements)?e["="](this.GLM.mat4()):e}},transpose:{$mat4$transpose:GLMAT.mat4.transpose,mat4:function(e){return e=e.clone(),this.$mat4$transpose(e.elements,e.elements),e}}},glm.$outer.$import(DLL);try{module.exports=glm}catch(e){}function $GLMVector(e,t,n){if(this.typearray=n=n||GLM.$outer.Float32Array,!(this instanceof $GLMVector))throw new GLM.GLMJSError("use new");if("function"!=typeof e||!GLM.$isGLMConstructor(e))throw new GLM.GLMJSError("expecting typ to be GLM.$isGLMConstructor: "+[typeof e,e?e.$type:e]+" // "+GLM.$isGLMConstructor(e));if(1===e.componentLength&&GLM[e.prototype.$type.replace("$","$$v")])throw new GLM.GLMJSError("unsupported argtype to glm.$vectorType - for single-value types use glm."+e.prototype.$type.replace("$","$$v")+"..."+e.prototype.$type);if(this.glmtype=e,!this.glmtype.componentLength)throw Error("need .componentLength "+[e,t,n]);this.componentLength=this.glmtype.componentLength,this.BYTES_PER_ELEMENT=this.glmtype.BYTES_PER_ELEMENT,this._set_$elements=function(e){return Object.defineProperty(this,"$elements",{enumerable:!1,configurable:!0,value:e}),this.$elements},Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,get:function(){return this.$elements},set:function(e){if(this._kv&&!this._kv.dynamic&&GLM.$DEBUG&&GLM.$outer.console.warn("WARNING: setting .elements on frozen (non-dynamic) GLMVector..."),e){var t=this.length;if(this.length=e.length/this.componentLength,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.length!==Math.round(this.length))throw new GLM.GLMJSError("$vectorType.length alignment mismatch "+JSON.stringify({componentLength:this.componentLength,length:this.length,rounded_length:Math.round(this.length),elements_length:e.length,old_length:t}))}else this.length=this.byteLength=0;return this._set_$elements(e)}}),this.elements=t&&new n(t*e.componentLength)}if(GLM.$vectorType=$GLMVector,GLM.$vectorType.version="0.0.2",$GLMVector.prototype=GLM.$template.extend(new GLM.$GLMBaseType($GLMVector,"$vectorType"),{toString:function(){return"[$GLMVector .elements=#"+(this.elements&&this.elements.length)+" .elements[0]="+(this.elements&&this.elements[0])+" ->[0]"+(this["->"]&&this["->"][0])+"]"},"=":function(e){return(e instanceof this.constructor||glm.$isGLMObject(e))&&(e=e.elements),this._set(new this.typearray(e))},_typed_concat:function(e,t,n){var r=e.length+t.length;return(n=n||new e.constructor(r)).set(e),n.set(t,e.length),n},"+":function(e){return(e instanceof this.constructor||glm.$isGLMObject(e))&&(e=e.elements),new this.constructor(this._typed_concat(this.elements,e))},"+=":function(e){return(e instanceof this.constructor||glm.$isGLMObject(e))&&(e=e.elements),this._set(this._typed_concat(this.elements,e))},_set:function(e){if(e instanceof this.constructor&&(e=new this.typearray(e.elements)),!(e instanceof this.typearray))throw new GLM.GLMJSError("unsupported argtype to $GLMVector._set "+(e&&e.constructor));GLM.$DEBUG&&GLM.$outer.console.debug("$GLMVector.prototype.set...this.elements:"+[this.elements&&this.elements.constructor.name,this.elements&&this.elements.length]+"elements:"+[e.constructor.name,e.length]);var t=this._kv;if(this._kv=void 0,this.elements=e,this.elements!==e)throw new GLM.GLMJSError("err with .elements: "+[this.glmtype.prototype.$type,this.elements,e]);return t&&this._setup(t),this},arrayize:function(e,t){return this._setup({dynamic:t,setters:e},this.length)},$destroy:function(e){if(e){for(var t=Array.isArray(e),n=function(n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,value:void 0}),delete e[n],t||(e[n]=void 0,delete e[n])},r=0;r<e.length;r++)r in e&&n(r);for(;r in e;)GLM.$DEBUG&&GLM.$outer.console.debug("$destroy",this.name,r),n(r++);t&&(e.length=0)}},_arrlike_toJSON:function(){return this.slice(0)},_mixinArray:function(e){return e.toJSON=this._arrlike_toJSON,"forEach map slice filter join reduce".split(" ").forEach(function(t){e[t]=Array.prototype[t]}),e},_setup:function(e,t){var n=this.glmtype,r=this.typearray,o=this.length;this._kv=e;var i=e.stride||this.glmtype.BYTES_PER_ELEMENT,a=e.offset||this.elements.byteOffset,c=e.elements||this.elements,u=e.container||this.arr||[],s=e.setters||!1,l=e.dynamic||!1;if("self"===u&&(u=this),!c)throw new GLMJSError("GLMVector._setup - neither kv.elements nor this.elements...");this.$destroy(this.arr,t);var f=this.arr=this["->"]=u;Array.isArray(f)||this._mixinArray(f);var m=this.componentLength;if(!m)throw new GLM.GLMJSError("no componentLength!?"+Object.keys(this));for(var M=c.buffer.byteLength,p=this,h=0;h<o;h++){var L=(u=a+h*i)+this.glmtype.BYTES_PER_ELEMENT,v=function(){return e.i=h,e.next=L,e.last=M,e.offset=e.offset||a,e.stride=e.stride||i,JSON.stringify(e)};if(u>M)throw Error("["+h+"] off "+u+" > last "+M+" "+v());if(L>M)throw Error("["+h+"] next "+L+" > last "+M+" "+v());f[h]=null;var G=function(e,t){var o=new n(new r(e.buffer,t,m));return l&&Object.defineProperty(o,"$elements",{value:e}),o};v=G(c,u);s||l?function(e,t,n){Object.defineProperty(f,t,{enumerable:!0,configurable:!0,get:l?function(){return e.$elements!==p.elements&&(GLM.$log("dynoget rebinding ti",t,n,e.$elements===p.elements),e=G(p.elements,n)),e}:function(){return e},set:s&&(l?function(r){return GLM.$log("dynoset",t,n,e.$elements===p.elements),e.$elements!==p.elements&&(GLM.$log("dynoset rebinding ti",t,n,e.$elements===p.elements),e=G(p.elements,n)),e.copy(r)}:function(t){return e.copy(t)})||void 0})}(v,h,u):f[h]=v}return this},setFromBuffers:function(e){var t=this.elements,n=0;return e.forEach(function(e){var r=e.length;if(n+r>t.length){if(0>=(r=Math.min(t.length-n,e.length)))return;r=(e=glm.$subarray(e,0,r)).length}if(n+r>t.length)throw new glm.GLMJSError("$vectorType.fromBuffers mismatch "+[n,r,t.length]);t.set(e,n),n+=e.length}),n},setFromPointer:function(e){if(!(e instanceof GLM.$outer.ArrayBuffer))throw new glm.GLMJSError("unsupported argtype "+[typeof e]+" - $GLMVector.setFromPointer");return this._set(new this.typearray(e))}}),GLM.exists,GLM.$vectorType.exists,GLM.$toTypedArray)throw"error: glm.experimental.js double-included";GLM.$toTypedArray=function(e,t,n){var r=t||0,o=typeof r;if("number"===o){if("number"!=typeof n)throw new GLM.GLMJSError("GLM.$toTypedArray: unsupported argtype for componentLength ("+typeof n+")");return new e(r*n)}if("object"!==o)throw new GLM.GLMJSError("GLM.$toTypedArray: unsupported arrayType: "+[typeof e,e]);if(r instanceof e)return r;if(r instanceof GLM.$outer.ArrayBuffer||Array.isArray(r))return new e(r);if(GLM.$isGLMObject(r)&&(r=new e((o=r.elements).length)).set(o),!(r instanceof e)&&"byteOffset"in r&&"buffer"in r)return GLM.$DEBUG&&GLM.$outer.console.warn("coercing "+r.constructor.name+".buffer into "+[e.name,r.byteOffset,r.byteLength+" bytes","~"+r.byteLength/e.BYTES_PER_ELEMENT+" coerced elements"]+"...",{byteOffset:r.byteOffset,byteLength:r.byteLength,ecount:r.byteLength/e.BYTES_PER_ELEMENT}),new e(r.buffer,r.byteOffset,r.byteLength/e.BYTES_PER_ELEMENT);if(r instanceof e)return r;throw new GLM.GLMJSError("GLM.$toTypedArray: unsupported argtype initializers: "+[e,t,n])},GLM.$make_primitive=function(a,b){return GLM[a]=function(e){if(!(this instanceof GLM[a]))return new GLM[a](e);"object"!=typeof e&&(e=[e]),this.elements=GLM.$toTypedArray(b,e,1)},GLM[a]=eval(GLM.$template._traceable("glm_"+a+"$class",GLM[a]))(),GLM.$template._add_overrides(a,{$to_string:function(e){return e.$type.replace(/[^a-z]/g,"")+"("+e.elements[0]+")"},$to_object:function(e){return e.elements[0]},$to_glsl:function(e){return e.$type.replace(/[^a-z]/g,"")+"("+e.elements[0]+")"}}),GLM.$template._add_overrides(a.substr(1),{$to_string:!(a.substr(1)in GLM.$to_string.$template)&&function(e){return e.$type.replace(/[^a-z]/g,"")+"("+e.elements[0]+")"},$to_object:function(e){return e},$to_glsl:function(e){return e.$type.replace(/[^a-z]/g,"")+"("+e+")"}}),GLM.$template.extend(GLM[a],{componentLength:1,BYTES_PER_ELEMENT:b.BYTES_PER_ELEMENT,prototype:GLM.$template.extend(new GLM.$GLMBaseType(GLM[a],a),{copy:function(e){return this.elements.set(GLM.$isGLMObject(e)?e.elements:[e]),this},valueOf:function(){return this.elements[0]}})}),GLM[a].prototype["="]=GLM[a].prototype.copy,GLM[a]},GLM.$make_primitive("$bool",GLM.$outer.Int32Array),GLM.$template._add_overrides("$bool",{$to_object:function(e){return!!e}}),GLM.$make_primitive("$int32",GLM.$outer.Int32Array),GLM.$make_primitive("$uint32",GLM.$outer.Uint32Array),GLM.$make_primitive("$uint16",GLM.$outer.Uint16Array),GLM.$make_primitive("$uint8",GLM.$outer.Uint8Array),GLM.$float32=GLM.$make_primitive("$float",GLM.$outer.Float32Array),GLM.$make_primitive_vector=function(a,b,c){c=c||(new b).elements.constructor;var e=function(t){if(!(this instanceof e))return new e(t);this.$type=a,this.$type_name="vector<"+a+">",(t=GLM.$toTypedArray(c,t,b.componentLength))&&this._set(t)},e=eval(GLM.$template._traceable("glm_"+a+"$class",e))();return e.prototype=new GLM.$vectorType(b,0,c),GLM.$template._add_overrides(a,{$to_string:function(e){return"[GLM."+e.$type+" elements[0]="+(e.elements&&e.elements[0])+"]"},$to_object:function(e){return e.map(GLM.$to_object)},$to_glsl:function(e,t){var n=e.$type.substr(2).replace(/[^a-z]/g,""),r=[];return(t="string"==typeof t?t:"example")&&r.push(n+" "+t+"["+e.length+"]"),r.concat(e.map(function(e,n){return t+"["+n+"] = "+e})).join(";")+";"}}),GLM.$types.push(a),GLM.$template.extend(e.prototype,{$type:a,constructor:e,_setup:function(){throw new GLM.GLMJSError("._setup not available on primitive vectors yet...")},_set:function(e){return this.elements=e,this.length=this.elements?this.elements.length/this.glmtype.componentLength:0,this.arrayize(),this},arrayize:function(){for(var e=Object.defineProperty.bind(Object,this),t=0;t<this.length;t++)!function(t){e(t,{configurable:!0,enumerable:!0,get:function(){return this.elements[t]},set:function(e){return this.elements[t]=e}})}(t);return this._mixinArray(this)},toString:function(){return"[vector<"+a+"> {"+[].slice.call(this.elements,0,5)+(5<this.elements.length?",...":"")+"}]"}}),e},GLM.$vint32=GLM.$make_primitive_vector("$vint32",GLM.$int32),GLM.$vfloat=GLM.$vfloat32=GLM.$make_primitive_vector("$vfloat32",GLM.$float32),GLM.$vuint8=GLM.$make_primitive_vector("$vuint8",GLM.$uint8),GLM.$vuint16=GLM.$make_primitive_vector("$vuint16",GLM.$uint16),GLM.$vuint32=GLM.$make_primitive_vector("$vuint32",GLM.$uint32),GLM.$make_componentized_vector=function(a,b,c){c=c||(new b).elements.constructor;var e=function(t,n){if(!(this instanceof e))return new e(t,n);if(this._set(GLM.$toTypedArray(c,t,b.componentLength)),!this.elements)throw new GLM.GLMJSError("!this.elements: "+[GLM.$toTypedArray(c,t,b.componentLength)]);this._setup({setters:!0,dynamic:n,container:"self"})},e=eval(GLM.$template._traceable("glm_"+a+"$class",e))();return e.prototype=new GLM.$vectorType(b,0,c),GLM.$template._add_overrides(a,{$to_string:function(e){return"[GLM."+e.$type+" elements[0]="+(e.elements&&e.elements[0])+"]"},$to_object:function(e){return e.map(GLM.$to_object)},$to_glsl:function(e,t){var n=e.$type.substr(2),r=[];return(t="string"==typeof t?t:"example")&&r.push(n+" "+t+"["+e.length+"]"),r.concat(e.map(GLM.$to_glsl).map(function(e,n){return t+"["+n+"] = "+e})).join(";\n ")+";"}}),GLM.$types.push(a),GLM.$template.extend(e.prototype,{$type:a,constructor:e}),e.prototype.componentLength||alert("!cmop "+p),e},function(){var e,t=GLM.$template.deNify({"$vvec<N>":function(){return GLM.$make_componentized_vector("$vvecN",GLM.vecN)},"$vuvec<N>":function(){return GLM.$make_componentized_vector("$vuvecN",GLM.uvecN)},"$vmat<N>":function(){return GLM.$make_componentized_vector("$vmatN",GLM.matN)},$vquat:function(){return GLM.$make_componentized_vector("$vquat",GLM.quat)}},"$v");for(e in t)GLM[e]=t[e]()}(),(GLM._redefine_base64_helpers=function e(t,n){function r(e){return(e+"").replace(/\s/g,"")}function o(e){return new s(e.split("").map(function(e){return e.charCodeAt(0)}))}function i(e){return e instanceof s||(e=new s(e)),[].map.call(e,function(e){return String.fromCharCode(e)}).join("")}function a(e){return e=e instanceof l?e:o(e).buffer,GLM.$b64.encode(e,e.byteOffset,e.byteLength)}function c(e){return(e=new String(i(GLM.$b64.decode(e)))).array=o(e),e.buffer=e.array.buffer,e}t=e.atob=t||e.atob||c,n=e.btoa=n||e.btoa||a;var u,s=GLM.$outer.Uint8Array,l=GLM.$outer.ArrayBuffer,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf.bind("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");u={encode:function(e,t,n){n=(e=new s(e,t,n)).length;var r="";for(t=0;t<n;t+=3)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e[t]>>2],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&e[t])<<4|e[t+1]>>4],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&e[t+1])<<2|e[t+2]>>6],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&e[t+2]];return 2==n%3?r=r.substring(0,r.length-1)+"=":1==n%3&&(r=r.substring(0,r.length-2)+"=="),r},decode:function(e){var t,n,o,i,a=(e=r(e)).length,c=.75*a,u=0;"="===e[a-1]&&(c--,"="===e[a-2]&&c--);var m=new l(c),M=new s(m);for(c=0;c<a;c+=4)t=f(e[c]),n=f(e[c+1]),o=f(e[c+2]),i=f(e[c+3]),M[u++]=t<<2|n>>4,M[u++]=(15&n)<<4|o>>2,M[u++]=(3&o)<<6|63&i;return m}},GLM.$template.extend(u,{trim:r,atob:t,btoa:n,$atob:c,$btoa:a,toCharCodes:o,fromCharCodes:i,b64_to_utf8:function(e){return decodeURIComponent(escape(t(r(e))))},utf8_to_b64:function(e){return n(unescape(encodeURIComponent(e)))}}),GLM.$template.extend(GLM,{$b64:u,$to_base64:function(e){return GLM.$b64.encode(e.elements.buffer,e.elements.byteOffset,e.elements.byteLength)},$from_base64:function(e,t){var n=GLM.$b64.decode(e);return!0===t||t==GLM.$outer.ArrayBuffer?n:(void 0===t&&(t=GLM.$outer.Float32Array),new t(n))}})})("function"==typeof atob&&atob.bind(this),"function"==typeof btoa&&btoa.bind(this)),function(){function e(e,t){return{get:function(){return e.call(this)},set:function(e){if(this.copy)return this.copy(new this.constructor(t.call(this,e)));this.elements.set(t.call(this,e))}}}"$bool $float32 $vfloat32 $vuint8 $vuint16 $vuint32 $vvec2 $vvec3 $vvec4 $vmat3 $vmat4 $vquat vec2 vec3 vec4 mat3 mat4 uvec2 uvec3 uvec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 quat".split(" ").map(GLM.$getGLMType).forEach(function(t){Object.defineProperty(t.prototype,"array",e(function(){return GLM.$to_array(this)},function(e){return e})),Object.defineProperty(t.prototype,"base64",e(function(){return GLM.$to_base64(this)},function(e){return GLM.$from_base64(e,this.elements.constructor)})),Object.defineProperty(t.prototype,"buffer",e(function(){return this.elements.buffer},function(e){return new this.elements.constructor(e)})),Object.defineProperty(t.prototype,"json",e(function(){return GLM.$to_json(this)},function(e){return JSON.parse(e)})),Object.defineProperty(t.prototype,"object",e(function(){return GLM.$to_object(this)},function(e){return e})),Object.defineProperty(t.prototype,"glsl",e(function(){return GLM.$to_glsl(this)},function(e){return GLM.$from_glsl(e,Array)}))})}(),glm.GLMAT=GLMAT,globals.glm=glm;try{module.exports=glm}catch(e){}try{window.glm=glm}catch(e){}try{declare.amd&&declare(function(){return glm})}catch(e){}this.glm=glm}(this,"undefined"!=typeof $GLM_log?$GLM_log:void 0,"undefined"!=typeof $GLM_console_log?$GLM_console_log:void 0)}).call(this,__webpack_require__(2))},function(e,t,n){"use strict";n.r(t);var r,o=n(0),i=n.n(o);function a(e,t){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.addEventListener("load",t),n.send(),n.responseText}function c(e,t,n){var r;t===e.VERTEX_SHADER&&(r=a("js/shaders/woodenBox/woodenBox.vsh")),t===e.FRAGMENT_SHADER&&(r=a("js/shaders/woodenBox/woodenBox.fsh"));var o=e.createShader(t);if(e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))return o;console.log(e.getShaderInfoLog(o)),e.deleteShader(o)}!function(){var e=document.getElementById("c");e.addEventListener("mousedown",function(e){if("object"==typeof e)switch(e.button){case 0:!0}});e.addEventListener("mouseup",function(e){if("object"==typeof e)switch(e.button){case 0:!1}}),e.width=800,e.style.width=800,e.height=600,e.style.height=600,(r=e.getContext("webgl2")).clearColor(0,0,0,1);var t=c(r,r.FRAGMENT_SHADER,"js/shaders/woodenBox/woodenBox.fsh"),n=c(r,r.VERTEX_SHADER,"js/shaders/woodenBox/woodenBox.vsh"),o=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;console.log(e.getProgramInfoLog(r)),e.deleteProgram(r)}(r,n,t),a=r.createVertexArray();r.bindVertexArray(a);var u=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,u);r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,0,-1,1,0,1,-1,0]),r.STATIC_DRAW),r.enableVertexAttribArray(0),r.vertexAttribPointer(0,3,r.FLOAT,r.FALSE,0,0);var s=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,s);r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1]),r.STATIC_DRAW),r.enableVertexAttribArray(1),r.vertexAttribPointer(1,2,r.FLOAT,r.FALSE,0,0);const l=r.createTexture();r.bindTexture(r.TEXTURE_2D,l);const f=r.RGBA,m=r.RGBA,M=r.UNSIGNED_BYTE,p=new Uint8Array([0,0,255,255]);r.texImage2D(r.TEXTURE_2D,0,f,1,1,0,m,M,p);const h=new Image;h.onload=function(){r.bindTexture(r.TEXTURE_2D,l),r.texImage2D(r.TEXTURE_2D,0,f,m,M,h),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)},h.src="Assets/woodenBox/woodenBox.jpg";var L=r.getUniformLocation(o,"woodenTexture"),v=r.getUniformLocation(o,"modelMatrix"),G=i.a.mat4(1),$=r.getUniformLocation(o,"viewMatrix"),y=i.a.vec3(0,0,-10),g=i.a.translate(i.a.mat4(1),y),d=r.getUniformLocation(o,"projectionMatrix"),_=i.a.perspective(i.a.radians(35),800/600,.1,1e3),b=i.a.getUniformLocation(o,"cameraPosition");console.log(b),r.uniform3fv(b,y),r.uniformMatrix4fv(v,!0,G.elements),r.uniformMatrix4fv($,!0,g.elements),r.uniformMatrix4fv(d,!0,_.elements);var w=!1,N=!1,x=!1,E=!1;window.addEventListener("keydown",function(e){switch(e.code){case"KeyW":w=!0;break;case"KeyS":N=!0;break;case"KeyA":x=!0;break;case"KeyD":E=!0}}),window.addEventListener("keyup",function(e){switch(e.code){case"KeyW":w=!1;break;case"KeyS":N=!1;break;case"KeyA":x=!1;break;case"KeyD":E=!1}}),window.requestAnimationFrame(function e(){null===A&&(A=Date.now());null===q&&(q=Date.now());T=A-q;q=Date.now();A=null;r.clear(r.COLOR_BUFFER_BIT);r.useProgram(o);r.bindVertexArray(a);r.activeTexture(r.TEXTURE0);r.bindTexture(r.TEXTURE_2D,l);r.uniform1i(L,0);!0===w&&(y=y["+"](i.a.vec3(0,0,.01*T)),g=i.a.translate(i.a.mat4(1),y));!0===N&&(y=y["-"](i.a.vec3(0,0,.01*T)),g=i.a.translate(i.a.mat4(1),y));!0===E&&(y=y["+"](i.a.vec3(.01*T,0,0)),console.log(y),g=i.a.translate(i.a.mat4(1),y));!0===x&&(y=y["-"](i.a.vec3(.01*T,0,0)),console.log(y),g=i.a.translate(i.a.mat4(1),y));r.uniform3fv(b,y.elements);r.uniformMatrix4fv(v,!0,G.elements);r.uniformMatrix4fv($,!0,g.elements);r.uniformMatrix4fv(d,!0,_.elements);r.drawArrays(r.TRIANGLES,0,3);window.requestAnimationFrame(e)});var A=null,T=null,q=null}()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);